"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[17885],{762587:e=>{e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var a=e.length;l>0&&a>l&&(a=l);for(var r=0;r<a;++r){var c,d,u,_,h=e[r].replace(o,"%20"),p=h.indexOf(n);(p>=0?(c=h.substr(0,p),d=h.substr(p+1)):(c=h,d=""),u=decodeURIComponent(c),_=decodeURIComponent(d),Object.prototype.hasOwnProperty.call(s,u))?Array.isArray(s[u])?s[u].push(_):s[u]=[s[u],_]:s[u]=_}return s}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,s){return(n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(s){var o=encodeURIComponent(t(s))+i;return Array.isArray(e[s])?e[s].map(function(e){return o+encodeURIComponent(t(e))}).join(n):o+encodeURIComponent(t(e[s]))}).join(n):s?encodeURIComponent(t(s))+i+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},17314:(e,t,n)=>{n.d(t,{Z:()=>c});var i,s,o=n(813653),l=n(861470),a=0,r=0;let c=function(e,t,n){var c=t&&n||0,d=t||Array(16),u=(e=e||{}).node||i,_=void 0!==e.clockseq?e.clockseq:s;if(null==u||null==_){var h=e.random||(e.rng||o.Z)();null==u&&(u=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==_&&(_=s=(h[6]<<8|h[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:r+1,g=p-a+(m-r)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,r=m,s=_;var f=((268435455&(p+=122192928e5))*1e4+m)%4294967296;d[c++]=f>>>24&255,d[c++]=f>>>16&255,d[c++]=f>>>8&255,d[c++]=255&f;var v=p/4294967296*1e4&268435455;d[c++]=v>>>8&255,d[c++]=255&v,d[c++]=v>>>24&15|16,d[c++]=v>>>16&255,d[c++]=_>>>8|128,d[c++]=255&_;for(var b=0;b<6;++b)d[c+b]=u[b];return t||(0,l.Z)(d)}},395980:(e,t,n)=>{var i,s;n.r(t),n.d(t,{default:()=>l});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};o.hash="ba7787ee8344e34b151f6a5f633c4170";let l=o},499041:(e,t,n)=>{n.d(t,{b:()=>r,t:()=>a});var i=n(667294),s=n(342513),o=n(785893);let{Provider:l,useHook:a}=(0,s.Z)("LensContext");function r({children:e}){let[t,n]=(0,i.useState)(),[s,a]=(0,i.useState)(),[r,c]=(0,i.useState)([]),[d,u]=(0,i.useState)(),[_,h]=(0,i.useState)(),[p,m]=(0,i.useState)(!1);return(0,o.jsx)(l,{value:{heroImageUrl:s,historyData:r,image:t,imageData:_,isLensModalOpen:p,setHeroImageUrl:a,setHistoryData:c,setImage:n,setImageData:h,setIsLensModalOpen:m,setUpdatedCropArea:u,updatedCropArea:d},children:e})}},801904:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(616550),s=n(883119),o=n(205841),l=n(741983),a=n(550124),r=n(785893);let c=({account:e})=>(0,r.jsx)(s.xv,{color:"default",size:"300",weight:"bold",children:e.name}),d=({account:e})=>(0,r.jsxs)(s.xu,{children:[(0,r.jsx)(s.xv,{size:"100",children:e.ownerFullName}),(0,r.jsx)(s.xv,{color:"default",size:"300",weight:"bold",children:e.name})]}),u=({account:e})=>{let t;let n=(0,i.TH)(),u=(0,l.Ni)(n),_=(0,l.HV)(n);switch((0,a.Z)()){case 3:case 4:t=(0,r.jsx)(d,{account:e});break;default:t=u||_?(0,r.jsx)(c,{account:e}):(0,r.jsx)(d,{account:e})}return(0,r.jsxs)(s.kC,{alignItems:"center",children:[(0,r.jsx)(s.xu,{"aria-hidden":!0,padding:2,children:(0,r.jsx)(o.qE,{name:e.name,size:"sm",src:e.ownerImg})}),t]})}},354500:(e,t,n)=>{n.d(t,{Oz:()=>i,mo:()=>l,nt:()=>o,v8:()=>s});let i={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},s="BUSINESS_PANEL",o="ASSET_PANEL",l=500},106622:(e,t,n)=>{n.d(t,{r:()=>v,K:()=>g});var i=n(667294),s=n(372085),o=n(783122);let l=async(e,t)=>{let{statsLog:n}=(0,o.t)();try{let i=new Date,o=await (0,s.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),l=new Date;return n&&(n.success("getMultipleBizEntityProperties",t),n.latency("getMultipleBizEntityProperties",l.getTime()-i.getTime(),t)),o.resource_response.data}catch(e){throw n&&n.failure("getMultipleBizEntityProperties",t),e}},a=async(e,t,n="PUT")=>{let{statsLog:i}=(0,o.t)();try{let o=new Date,l=await (0,s.Z)({url:"/ads/v4/business_entities",data:e,method:n}),a=new Date;return i&&(i.success("setMultipleBizEntityPropertiesFullUpdate",t),i.latency("setMultipleBizEntityPropertiesFullUpdate",a.getTime()-o.getTime(),t)),l.resource_response.data}catch(e){throw i&&i.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var r=n(342513),c=n(976731),d=n(288673),u=n(340523),_=n(149722),h=n(953565),p=n(785893);let{Provider:m,useHook:g}=(0,r.Z)("CustomShortcutsContext"),f=()=>Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]),v=({children:e})=>{let t=(0,_.Z)(),n=(0,u.F)(),[s,o]=(0,i.useState)({}),r=(0,i.useCallback)(async()=>{let{anyEnabled:e}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:i}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),s=!!t.isAuth,a=!!t.isAuth&&t.isPartner,r=f().every(e=>!window.location.href?.includes(e));if(e&&s&&a&&!t.isLimitedLogin&&r)try{let e;e=i?l:d.FO;let n=(await e([{entity_id:t.id,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(n&&n.properties))return;let s=n.properties.NAVBAR_CONFIG;o(s?.customShortcuts||{})}catch(e){(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}})}},[t.isAuth,t.id,t.isPartner,t.isLimitedLogin,n]),g=(e,t)=>({entity_id:e,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:t}}}),v=(0,i.useCallback)(async e=>{let{anyEnabled:i}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:s}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!(t.isAuth&&i))return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:"Auth_Error"}}),{error:"Auth_Error"};try{let n;n=s?a:d.VW;let i=g(t.id,e);return await n([i]),r(),{error:null}}catch(e){return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:(0,c.Z)(e,"message")}}),{error:"Upsert_Error"}}},[t.isAuth,t.id,n,r]);(0,i.useEffect)(()=>{r()},[r]);let b=(0,i.useMemo)(()=>({shortcuts:s,upsertShortcuts:v}),[s,v]);return(0,p.jsx)(m,{value:b,children:e})}},684334:(e,t,n)=>{n.r(t),n.d(t,{SOS_ADMIN_HEADER_HEIGHT:()=>x,SOS_ADMIN_PERMISSION_TYPE:()=>C,SOS_INVALID_PERMISSION_TYPE:()=>A,SOS_READ_ONLY_PERMISSIN_TYPE:()=>P,default:()=>S});var i=n(667294),s=n(616550),o=n(693967),l=n.n(o),a=n(883119),r=n(135987),c=n(801904),d=n(288673),u=n(930837),_=n(454514),h=n(13848),p=n(785893);function m({onCancel:e,i18n:t,selectedAccount:n,actingBusiness:s,ldap:o}){let[l,r]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[f,v]=(0,i.useState)(""),b=(0,h.F9)(),y=t.bt("Запросить доступ для чтения и редактирования", "Request read-write access", "[m10n]billing.sos.RequestAdminAccessModal.Heading", undefined, true);function w(e,t,n){b.showOneToast(({hideToast:i})=>(0,p.jsx)(_.ZP,{duration:e,onHide:i,text:n,type:t}))}async function x(){if(l&&m){let n={ldap:o||"",sos_user_type:"1",business_owner_id:s?.id||"",duration:l,justification:m},i=await (0,d.wV)(n),a=!1;i&&"success"===i.status&&i.data&&(i.data.success?("3"===l?w(5e3,"success",t.bt("Ваш трехдневный доступ одобрен", "Your 3 day access was approved", "[m10n]billing.sos.RequestAdminAccessModal.threeDayAccess.success", undefined, true)):w(8e3,"success",t.bt("Запрос на доступ на 90 дней будет рассмотрен в течение 24 часов", "Your 90 days access was requested and will be reviewed within 24 hours", "[m10n]billing.sos.RequestAdminAccessModal.ninetyDayAccess.success", undefined, true)),a=!0):i.data.error_message&&i.data.error_message.startsWith("there are already one or more open requests")&&(w(5e3,"error",t.bt("Запрос уже отправлен", "An open request was already submitted", "[m10n]billing.sos.RequestAdminAccessModal.duplicateRequestFailure", undefined, true)),a=!0)),a||w(8e3,"error",t.bt("При отправке запроса на доступ произошла ошибка", "Something went wrong when submitting the access request", "[m10n]billing.sos.RequestAdminAccessModal.generalFailureMessage", undefined, true)),e()}else l?v(t.bt("Укажите причину для запроса доступа для чтения и редактирования", "Please provide a reason for requesting read-write access", "[m10n]billing.sos.RequestAdminAccessModal.MissingAccessReason", undefined, true)):v(t.bt("Выберите продолжительность доступа", "Please choose the access duration", "[m10n]billing.sos.RequestAdminAccessModal.MissingAccessDuration", undefined, true))}return(0,p.jsx)(a.xu,{height:"100%",children:(0,p.jsxs)(u.ZP,{accessibilityModalLabel:"Choose admin access duration",align:"start",footer:(0,p.jsxs)(a.xu,{children:[f&&(0,p.jsx)(a.xu,{marginBottom:3,children:(0,p.jsx)(a.kC,{justifyContent:"end",children:(0,p.jsx)(a.xv,{color:"error",size:"200",children:f})})}),(0,p.jsxs)(a.kC,{gap:2,justifyContent:"end",children:[(0,p.jsx)(a.zx,{color:"gray",onClick:e,text:t.bt("Назад", "Go back", "[m10n]billing.sos.RequestAdminAccessModal.GoBackButton", undefined, true)}),(0,p.jsx)(a.zx,{color:"red",onClick:()=>x(),text:t.bt("Запросить доступ", "Request access", "[m10n]billing.sos.RequestAdminAccessModal.RequestButton", undefined, true)})]})]}),heading:(0,p.jsxs)(a.kC,{justifyContent:"between",children:[(0,p.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:y}),(0,p.jsx)(a.hU,{accessibilityLabel:"Dismiss sos request read-write access modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})]}),onDismiss:e,size:"sm",children:[n&&(0,p.jsx)(a.xu,{marginStart:4,children:(0,p.jsx)(c.Z,{account:n,business:s})}),(0,p.jsxs)(a.xu,{padding:6,children:[(0,p.jsxs)(a.FX,{id:"access-duration-option",legend:t.bt("На какой срок вам нужен доступ?", "How long do you need access?", "[m10n]billing.sos.RequestAdminAccessModal.AskForDuration", undefined, true),children:[(0,p.jsx)(a.FX.RadioButton,{checked:"3"===l,helperText:t.bt("3 дня: мгновенный доступ", "3 days: instant access", "[m10n]billing.sos.RequestAdminAccessModal.RadioGroupItem.shortAccessOption", undefined, true),id:"shortAccessOption",label:t.bt("Мгновенное одобрение, срок действия которого истекает автоматически", "Instant approval that will auto-expire", "[m10n]billing.sos.RequestAdminAccessModal.RadioGroupLabel.shortAccessOption", undefined, true),onChange:()=>r("3"),value:"3"}),(0,p.jsx)(a.FX.RadioButton,{checked:"90"===l,helperText:t.bt("90 дней: требуется одобрение", "90 days: need approval", "[m10n]billing.sos.RequestAdminAccessModal.RadioGroupItem.longAccessOption", undefined, true),id:"longAccessOption",label:t.bt("Создан запрос на долгосрочный доступ с проверкой вручную", "Ticket is created for manual review for long-term access", "[m10n]billing.sos.RequestAdminAccessModal.RadioGroupLabel.longAccessOption", undefined, true),onChange:()=>r("90"),value:"90"})]}),(0,p.jsxs)(a.xu,{marginTop:6,children:[(0,p.jsx)(a.xu,{marginBottom:4,children:(0,p.jsx)(a.xv,{weight:"bold",children:t.bt("Укажите причину для запроса доступа для чтения и редактирования", "Please provide a reason for requesting read-write access", "[m10n]billing.sos.RequestAdminAccessModal.AskForRequestReason", undefined, true)})}),(0,p.jsx)(a.Kx,{id:"aboutme",labelDisplay:"hidden",onChange:e=>g(e.value),placeholder:t.bt("Укажите причину", "Please provide here", "[m10n]billing.sos.RequestAdminAccessModal.RequestReasonPlaceholder", undefined, true),value:m})]})]})]})})}var g=n(700280),f=n(140017),v=n(339001),b=n(702497),y=n(483169),w=n(454051);let x=40,A="0",C="1",P="2";function S({currentSite:e}){let t;let n=(0,g.u)(),{adminPermissionType:o}=(0,y._)(),c=(0,s.TH)(),d=(0,i.createRef)(),{advertiser:u,is_sterling_on_steroids:_,user:h,sterling_on_steroids_ldap:A}=n,S=_&&h&&h.is_partner,E=(0,w.HF)(),k=(0,w.Kn)({redirect:(0,w.HF)()}),I=(0,w.Kn)();"STERLING"!==e&&(k=b.auO+k,I=b.auO+I);let L=c.pathname===E,[Z,T]=(0,i.useState)(!1),[j,O]=(0,i.useState)(!1),R=(0,f.ZP)(),M=R.bt(": Вы просматриваете как: {{name}}", ": Viewing as {{name}}", "[m10n]adminMode.impersonationLabel.sosV3", undefined, true);t=o===C?"#e60023":"#111111";let{selectedAccount:z,actingBusiness:N}=(0,r.d9)();return(0,i.useEffect)(()=>{z&&N&&!L&&T(o===P)},[z,N,o,L]),(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(a.xu,{ref:d,dangerouslySetInlineStyle:{__style:{backgroundColor:t}},children:(0,p.jsx)(a.xu,{children:(0,p.jsx)("div",{className:l()({SosAdminHeaderBackground:S}),children:(0,p.jsx)(a.xu,{"data-test-id":"admin-header",paddingX:3,paddingY:1,children:(0,p.jsxs)(a.xu,{alignItems:"center","aria-label":R.bt("Заголовок основной навигации", "Primary navigation header", "[m10n]proPartnerHeader.label", undefined, true),column:12,display:"flex",height:x,role:"navigation",children:[(0,p.jsx)(a.xu,{marginStart:2,children:(0,p.jsxs)(a.kC,{alignItems:"center",dataTestId:"user-label",justifyContent:"start",children:[(0,p.jsx)(a.xu,{marginStart:4,children:(0,p.jsxs)(a.kC,{alignItems:"center",children:[(0,p.jsx)(a.xu,{marginEnd:2,children:(0,p.jsx)(a.JO,{accessibilityLabel:"SoS admin header overview",color:"light",icon:"overview",size:"22"})}),(0,p.jsx)(a.xu,{marginEnd:1,children:(0,p.jsx)(a.xv,{color:"light",weight:"bold",children:R.bt("Администратор SoS:", "SoS Admin", "[m10n]adminMode.sosAdminLabel.sosV3", undefined, true)})}),!L&&(0,p.jsx)(a.xv,{color:"light",children:(0,v.nk)(M,{name:u?u.name:h.full_name})})]})}),o===P&&!L&&(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#e7e7e7"}},margin:2,rounding:1,children:(0,p.jsx)(a.xu,{margin:1,children:(0,p.jsx)(a.xv,{children:R.bt("Только чтение", "Read-only", "[m10n]adminMode.sosAdminLabel.sosV3.readOnlyAccess", undefined, true)})})}),o===C&&!L&&(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#e7e7e7"}},margin:2,rounding:1,children:(0,p.jsx)(a.xu,{margin:1,children:(0,p.jsx)(a.xv,{children:R.bt("Доступ для чтения и редактирования", "Read-write access", "[m10n]adminMode.sosAdminLabel.sosV3.readWriteAccess", undefined, true)})})})]})}),(0,p.jsx)(a.xu,{marginStart:"auto",children:(0,p.jsx)(a.xu,{marginEnd:6,children:(0,p.jsxs)(a.kC,{alignItems:"center",children:[!L&&(0,p.jsx)(a.xu,{marginEnd:2,marginStart:2,children:(0,p.jsx)(a.rU,{href:k,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,p.jsx)(a.zx,{size:"sm",text:R.bt("Панель управления администратора", "Admin dashboard", "[m10n]billing.sos.SosAdminHeader.DashboardButton", undefined, true)})})}),Z&&(0,p.jsx)(a.xu,{marginEnd:2,marginStart:2,children:(0,p.jsx)(a.zx,{color:"red",onClick:()=>O(!0),size:"sm",text:R.bt("Запросить доступ для чтения и редактирования", "Request read-write access", "[m10n]billing.sos.SosAdminHeader.RequestAdminAccessButton", undefined, true)})}),j&&(0,p.jsx)(m,{actingBusiness:N,i18n:R,ldap:A,onCancel:()=>O(!1),selectedAccount:z}),(0,p.jsx)(a.xu,{marginStart:L?2:0,children:(0,p.jsx)(a.rU,{href:I,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,p.jsx)(a.hU,{accessibilityLabel:"Exit Admin Icon",icon:"cancel",iconColor:"white",size:"xs",tooltip:{accessibilityLabel:"So",text:R.bt("Выйти из режима администратора", "Exit admin mode", "[m10n]adminMode.exitAdminMode.sosV3", undefined, true),zIndex:new a.H3([new a.Ry(671)])}})})})]})})})]})})})})})})}},867013:(e,t,n)=>{n.d(t,{n:()=>i});let i=20},334589:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},3808:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),s=n(616550),o=n(741983),l=n(340523),a=n(5859),r=n(149722),c=n(961550),d=n(408998),u=n(995026);function _(){let e=(0,r.Z)(),t=(0,l.F)(),{isRTL:n}=(0,a.B)(),_=(0,s.TH)(),h=(0,s.k6)(),p=_.search,m=(0,u.Z)(_)&&!n&&e.isAuth&&!e.isPartner&&!(0,o.OK)(_);return(0,i.useEffect)(()=>{p.includes("enable_vertical_nav")&&((0,d.M)(),h.push("/"),window.location.reload())},[p,h]),{enabled:m&&t.checkExperiment("web_vertical_nav").anyEnabled,group:m?t.checkExperiment("web_vertical_nav").group:c.lR.NONE}}},214274:(e,t,n)=>{n.d(t,{Z:()=>i});let i='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},372135:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(883119),s=n(3808),o=n(616550),l=n(140017),a=n(339001),r=n(785893);let c=()=>{let e=(0,l.ZP)();return(0,r.jsx)(i.he,{iconAccessibilityLabel:e.bt("Информационное сообщение", "Info message", "header.accountsOptionsMenu.info.icon", undefined, true),message:(0,r.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,a.nk)(e.bt("Раздел «Бизнес-доступ» {{ isNow }} «Менеджер бизнес-аккаунта», {{ restOfMsg }}", "Business Access {{ isNow }} Business Manager {{ restOfMsg }}", "header.accountsOptionsMenu.newEntryPtBold", undefined, true),{isNow:(0,r.jsx)(i.xv,{inline:!0,children:e.bt("теперь называется", "is now", "header.accountsOptionsMenu.newEntryPtIsNow", undefined, true)}),restOfMsg:(0,r.jsx)(i.xv,{inline:!0,children:e.bt("и его можно найти в раскрывающемся списке компаний.", "and can now be found in the Business drop-down menu.", "header.accountsOptionsMenu.newEntryPtRestOfMsg", undefined, true)})})}),type:"info"})};var d=n(214877),u=n(515278),_=n(654960),h=n(434593);function p(){let e=(0,l.ZP)();return{addAccount:{value:"add-account",label:e.bt("Добавить аккаунт", "Add account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)},businessAccess:{value:"business-access",label:e.bt("Бизнес-доступ", "Business Access", "Link to business Access Landing Page", undefined, true)},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e.bt("Портал для подтверждения прав владения контентом", "Content claiming portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)},convertToBusiness:{value:"convert-to-business",label:e.bt("Перейти на бизнес-аккаунт", "Convert to business", "header.accountsOptionsMenu.addAccountButton", undefined, true)},currentAccount:{value:"current-account",label:e.bt("Текущий аккаунт", "Current account", "SwitchAccountsList.CurrentlyInItem", undefined, true)},failedAccount:{value:"failed-account",label:e.bt("Не удалось войти в аккаунт", "Failed to log into this account", "header.accountsOptionsMenu.failedAccountItem", undefined, true)},getHelp:{value:"get-help",label:e.bt("Справочный центр", "Help center", "header.accountsOptionsMenu.helpCenter.label", undefined, true)},homefeedTuner:{value:"homefeed-tuner",label:e.bt("Настройки главной ленты", "Home feed tuner", "header.accountsOptionsMenu.homefeedTuner.label", undefined, true)},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e.bt("Выход", "Log out", "header.accountsOptionsMenu.logout", undefined, true)},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e.bt("Условия использования", "Terms of service", "header.accountsOptionsMenu.termsOfService.label", undefined, true)},privacyPolicy:{value:"privacy-policy",label:e.bt("Политика конфиденциальности", "Privacy policy", "header.accountsOptionsMenu.privacyPolicy.label", undefined, true)},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e.bt("Центр жалоб и сообщений о нарушениях", "Reports and violations center", "header.accountsOptionsMenu.reportsAndViolationsCenter", undefined, true)},reportBug:{value:"report-bug",label:e.bt("Сообщить об ошибке", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)},settings:{value:"settings",label:e.bt("Настройки", "Settings", "header.accountsOptionsMenu.settings", undefined, true)},settingsPrivacy:{value:"settingsPrivacy",label:e.bt("Ваши права на конфиденциальность", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)},adsSupport:{value:"ads-support",label:e.bt("Служба поддержки объявлений", "Ads support", "header.accountsOptionsMenu.adsSupport", undefined, true)},requestFeature:{value:"request-a-feature",label:e.bt("Запросить функцию", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)},pinterestTvStudio:{value:"pinterest-tv-studio",label:e.bt("Студия Pinterest TV", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)},betaTester:{value:"be-a-beta-tester",label:e.bt("Стать бета-тестером", "Be a beta tester", "header.accountsOptionsMenu.beBetaTesterProgram", undefined, true)},teenSafetyResources:{value:"teen-safety-resources",label:e.bt("Информация о безопасности для подростков", "Teen safety resources", "header.accountsOptionsMenu.teenSafetyResources", undefined, true)}}}var m=n(991326),g=n(404891),f=n(610954),v=n(42068),b=n(340523),y=n(757640),w=n(702497),x=n(858128),A=n(149722),C=n(667294),P=n(29156),S=n(587703),E=n(805783),k=n(308548),I=n(427514),L=n(286318);let Z=["chrome","windows"];var T=n(961550),j=n(408998),O=n(985238),R=n(953565);function M({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){let s=(0,l.ZP)();return(0,r.jsxs)(C.Fragment,{children:[(0,r.jsx)(i.xu,{marginTop:4,children:(0,r.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,text:s.bt("Войти повторно", "Log in again", "header.accountsOptionsMenu.failedAccountLoginButton", undefined, true)})}),(0,r.jsx)(i.xu,{marginTop:3,children:(0,r.jsx)(i.zx,{fullWidth:!0,onClick:()=>n(e.id),text:s.bt("Удалить аккаунт", "Remove account", "header.accountsOptionsMenu.failedAccountRemoveButton", undefined, true)})})]})}var z=n(598228),N=n(222881);let D=new i.Ry(1e3);function B({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:a,showAdsSupportOption:B,showMoreOptions:U=!0,isWwwSite:H,isPersistentArrUpsellEnabled:V,idealDirection:F="down",dropdownId:q="HeaderAccountOptionsFlyout",zIndex:G=D}){let W=(0,A.Z)(),$=(0,l.ZP)(),{failedAccount:K,fetchedUserAccounts:Y,handleAccountRepClick:J,handleLinkedAccountSwitch:X,handleReauthAccount:Q,handleRemoveUnauthAccount:ee}=(0,g.Z)(t,H),et=p(),en=Y.find(e=>e.id===(W.isAuth&&W.id)),ei=W.isAuth&&W.partner?.is_linked_business,{enabled:es}=(0,s.Z)(),{yourAccount:eo,moreOptions:el}=function({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:s,isPersistentArrUpsellEnabled:a,isVerticalNavEnabled:M}){let{id:z,isAuth:N,isEmployee:D,isLimitedLogin:B,isPartner:U,partner:H,teenSafetyOptionsUrl:V}=(0,A.Z)(),F=(0,l.ZP)(),{logContextEvent:q}=(0,d.v)(),G=(0,o.k6)(),{isLoaded:W,data:$}=(0,y.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:K,data:Y}=(0,y.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:J=!1}=$||{},{handleShowReportBugModal:X}=(0,O.Z)(),Q=(0,m.Z)(),ee=function(){let e=(0,l.ZP)(),t=(0,C.useContext)(L.Z),n=(0,E.kM)(window,t),i=(0,S.Z)(),s=e=>{i({component:247,element:e,event_type:101})},o=(0,I.Z)(e.bt("Установить приложение {{appName}}", "Install the {{appName}} app", "header.accountsOptionsMenu.installApp", undefined, true),{appName:(0,k.Z)(n)});return Z.includes(n)?{onClick:()=>{if("windows"===n)s(11409),(0,P.Z)(`${w.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(s(11410),e.prompt())}},text:o}:null}(),{checkExperiment:et}=(0,b.F)(),en=!!N&&U,ei=N&&!!V,es=!!N&&!B,eo=(0,u.Z)(),{fetchedUserAccounts:el,handleAccountRepClick:ea,handleAddSecondaryAccount:er,handleClick:ec,handleLinkedAccountSwitch:ed,handleUnlockBusinessTools:eu,isLoading:e_,showUnlockBusinessTools:eh}=(0,g.Z)(e,s),ep=p(),em=el.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),eg=el.find(e=>e.id===(N&&z));N&&H?.is_linked_business&&(em=em.sort(e=>eg?.owners?.some(t=>t.id===e.id)?-1:1));let ef=K&&(!Y?.opt_in_private_account||Y.opt_in_private_account&&(em.length>1||1===em.length&&em[0].businesses.length>0)),ev=e_&&(0,r.jsx)(f.Z,{}),eb=eg?.businesses?.length?eg.businesses.map(e=>z!==e.id&&(0,r.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ed(e,eg.id),option:ep.lbaAccountSwitch(e),children:(0,r.jsx)(h.Z,{user:e},e.id)},e.id)):null,ey=em.map(e=>e.id!==(N&&z)?[(0,r.jsx)(i.Lt.Item,{onSelect:()=>ea(e),option:ep.parentAccount(e),children:(0,r.jsx)(h.Z,{isCurrentAccount:(N&&z)===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>z!==t.id&&(0,r.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ed(t,e.id),option:ep.businessAccount(t),children:(0,r.jsx)(h.Z,{user:t},t.id)},t.id)):[]]:null),ew=s&&(0,r.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:er,option:ep.addAccount}),ex=(0,r.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:er,option:ep.addAccount}),eA=eh&&(0,r.jsx)(i.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:eu,option:ep.convertToBusiness}),eC=W&&J&&(0,r.jsx)(i.Lt.Link,{href:"/content-claiming",onClick:()=>ec(13606),option:ep.contentClaiming}),eP=N&&!!D&&(0,r.jsx)(i.Lt.Item,{onSelect:()=>{X(),ec(13607),e()},option:ep.reportBug}),eS=(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-settings",href:es?`https://${(0,_.Z)()}/settings`:"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(247)},option:ep.settings,children:a&&(et("dweb_google_connect_persistent_banner_v2").anyEnabled||et("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,r.jsxs)(i.kC,{children:[(0,r.jsx)(i.xv,{weight:"bold",children:"Settings"}),(0,r.jsx)(i.kC,{direction:"column",justifyContent:"center",children:(0,r.jsx)(i.xu,{marginStart:2,children:(0,r.jsx)(x.Z,{height:8,width:8})})})]})}),eE=et("aid_exp_business_manager_dropdown_entrypoint").anyEnabled,ek=null;en&&(ek=eE?(0,r.jsx)(c,{}):(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-business-access",href:`https://${(0,_.Z)()}/business/business-access/`,onClick:()=>ec(11719),option:ep.businessAccess}));let eI=(0,r.jsx)(i.Lt.Link,{href:es?"/edit":"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(11345)},option:ep.homefeedTuner}),eL=!en&&ee?(0,r.jsx)(i.Lt.Item,{onSelect:()=>{ee.onClick(),e()},option:ep.installApp(ee.text)}):null,eZ=(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-privacy",href:es?`https://${(0,_.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(13334)},option:ep.settingsPrivacy}),eT=(0,r.jsx)(i.Lt.Link,{href:es?"/reports-and-violations":"",onClick:({event:e})=>{if(eo){e.stopPropagation(),eo();return}ec(14618)},option:ep.reportsAndViolationsCenter}),ej=ei?(0,r.jsx)(i.Lt.Link,{href:V??"",iconEnd:"visit",onClick:()=>{q({event_type:101,element:14321}),ec(14321)},option:ep.teenSafetyResources}):null,eO=en&&n&&(!t||(0,v.Z)((t||{}).actions||[],7))&&(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:w.JbB,iconEnd:"visit",onClick:()=>ec(10106),option:ep.adsSupport}),eR=en?(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:w.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>ec(11345),option:ep.requestFeature}):null,eM=(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-help",href:`${w.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>ec(8002),option:ep.getHelp}),ez=(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-tos",href:w.U5h,iconEnd:"visit",onClick:()=>ec(61),option:ep.termsOfService}),eN=(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-policy",href:w.R_9,iconEnd:"visit",onClick:()=>ec(8004),option:ep.privacyPolicy}),eD=(0,r.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>ec(13613),option:ep.betaTester}),eB=(0,r.jsx)(i.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:Q,option:ep.logOut}),eU=ef?(0,r.jsxs)(i.Lt.Section,{label:F.bt("Ваши аккаунты", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[ev,eb,ey,!Y?.opt_in_private_account&&ew,!Y?.opt_in_private_account&&eA]},"your-accounts"):null,eH=(0,r.jsxs)(i.Lt.Section,{label:F.bt("Ваши аккаунты", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[ev,eb,ey,!Y?.opt_in_private_account&&ex,!Y?.opt_in_private_account&&eA,eS,ek]},"your-accounts"),eV=(0,r.jsxs)(i.Lt.Section,{label:F.bt("Содержимое", "Content", "header.accountsOptionsMenu.contentHeader", undefined, true),children:[eC,eT,eL]}),eF=(0,r.jsxs)(i.Lt.Section,{label:F.bt("Справка", "Help", "header.accountsOptionsMenu.helpHeader", undefined, true),children:[ej,eM,eO,eR,eP]}),eq=(0,r.jsxs)(i.Lt.Section,{label:F.bt("Конфиденциальность", "Privacy", "header.accountsOptionsMenu.privacyHeader", undefined, true),children:[eN,eZ]}),eG=(0,r.jsxs)(i.Lt.Section,{label:"",children:[ez,eB]}),eW=(0,r.jsx)(i.Lt.Item,{onSelect:()=>{(0,R.nP)(T.Un.MORE_OPTIONS_OPT_OUT,{sampleRate:1}),(0,j.f)(),G.push("/"),window.location.reload()},option:{label:"Opt out of Vertical Nav",value:"opt-out-vertical-nav"}}),e$=M?[M&&N&&D?eW:null,eP,eS,ek,eI,eL,eO,eR,eT,eC,eZ,ej,eM,ez,eN,eD,eB]:(0,r.jsxs)(i.Lt.Section,{label:F.bt("Дополнительно", "More options", "header.accountsOptionsMenu.optionsHeader", undefined, true),children:[eP,eS,ek,eI,eL,eO,eR,eT,eC,eZ,ej,eM,ez,eN,eD,eB]});return{yourAccount:en?eH:eU,moreOptions:en?[eV,eF,eq,eG]:e$}}({onDismiss:t,advertiser:n,showAdsSupportOption:B,isWwwSite:H,isPersistentArrUpsellEnabled:V,isVerticalNavEnabled:es});return(0,r.jsx)(N.Z,{children:(0,r.jsxs)(i.Lt,{anchor:e,disableMobileUI:!0,id:q,idealDirection:F,isWithinFixedContainer:!es,onDismiss:t,zIndex:G,children:[a&&(K?(0,r.jsxs)(i.Lt.Section,{label:$.bt("Ой! Вы вышли из аккаунта", "Oh no! You're no longer logged into", "header.accountsOptionsMenu.failedAccount", undefined, true),children:[(0,r.jsx)(i.Lt.Item,{onSelect:()=>{},option:et.failedAccount,children:(0,r.jsx)(h.Z,{user:K})}),(0,r.jsx)(M,{failedAccount:K,handleReauthAccount:Q,handleRemoveUnauthAccount:ee})]}):[(0,r.jsx)(i.Lt.Section,{label:$.bt("Сейчас:", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true),children:!!en&&(0,r.jsx)(i.Lt.Item,{onSelect:()=>ei?X(en,void 0):J(en),option:et.currentAccount,selected:et.currentAccount,children:(0,r.jsx)(i.rU,{href:H?`/${en.username}/`:`${z.C0}/${en.username}/`,underline:"none",children:(0,r.jsx)(h.Z,{isCurrentAccount:!0,user:en})})})},"currently-in"),eo]),U?el:null]})})}},434593:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),s=n(205841),o=n(140017),l=n(785893);function a(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function r({user:e,isCurrentAccount:t}){let n=(0,o.ZP)(),r=e.partner;return(0,l.jsxs)(i.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,l.jsx)(i.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,l.jsx)(s.qE,{accessibilityLabel:"",name:a(e),src:function(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}(e)})}),(0,l.jsxs)(i.xu,{maxWidth:176,children:[(0,l.jsx)(i.xv,{lineClamp:1,weight:"bold",children:a(e)}),(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,l.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",children:r?n.bt("Бизнес-аккаунт", "Business", "SwitchAccountsListItem.BusinessAccount.label", undefined, true):n.bt("Личный", "Personal", "SwitchAccountsListItem.PersonalAccount.label", undefined, true)})}),t&&(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,l.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",children:r?e.partner?.bizContactEmail:e.email})})]})]})}},991326:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(587703),s=n(737811),o=n(488726),l=n(598753),a=n(149722),r=n(939341);function c(){let e=(0,a.Z)(),t=(0,i.Z)(),n=(0,o.aU)(),{headerVisible:c,activeClient:d,changeClient:u}=(0,r.a)()||{};return function(){if(t({event_type:101,component:8,element:8005}),c&&d){u();return}(0,l.lv)()>1?(e.isAuth&&((0,s.RD)(e.id),(0,s.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,l.Q)()})):((0,s.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},404891:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),s=n(616550),o=n(216167),l=n(316353),a=n(214877),r=n(322079),c=n(30378),d=n(307772),u=n(737811),_=n(702497),h=n(149722),p=n(311694),m=n(794109),g=n(953565);function f(e,t){let{flushContextEvents:n,logContextEvent:f}=(0,a.v)(),[v,b]=(0,i.useState)(!1),[y,w]=(0,i.useState)(null),x=(0,s.k6)(),A=(0,h.Z)(),{showAccountSwitcherLoginModal:C}=(0,p.g)(),P=()=>{C("account_switcher_flyout",y?.email)},{userAccounts:S}=(0,m.N)(),{data:E}=(0,l.iY)(),k=(0,r.Z)(),I=!!(A.isAuth&&!A.partner&&E?.businesses)&&0===E.businesses.length;(0,i.useEffect)(()=>(A.isAuth&&(0,u.Mt)(A,E),()=>{(0,u.CV)("flyout.dismiss")}),[]),(0,i.useEffect)(()=>((0,u.CV)("modal.shown"),()=>{(0,u.CV)("modal.dismiss")}),[]),(0,i.useEffect)(()=>{S.length>1&&f({event_type:13,view_type:234,component:13369,element:12722})},[f,S]);let L=(e,t)=>{throw(0,u.z3)(e,"account_switcher_flyout"),b(!1),t},Z=e=>{let{id:t}=e;b(!0),f({event_type:101,component:13369,element:11196}),(0,u.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(d.LU),n(!0),k({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,u.iS)("/",t,"account_switcher_flyout"):((0,u.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,u.z3)(t,"account_switcher_flyout"),w(e),b(!1))},e=>{L(t,e)})};return{failedAccount:y,fetchedUserAccounts:S,handleAccountRepClick:e=>{A.isAuth&&e.id!==A.id&&Z(e)},handleAddSecondaryAccount:()=>{(0,u.CV)("add_account_click",null,"account_switcher_flyout"),f({event_type:101,component:8,element:12756}),e(),x.push("/add-account")},handleClick:t=>{13290!==t&&f({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,i)=>{let{partner:s}=e;if(b(!0),f({event_type:101,component:13369,element:s?.isLinkedBusiness?11195:11194}),c.Z.pause(d.LU),n(!0),s?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:i};(0,g.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),k({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,g.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,u.iS)("/",e.id,"account_switcher_flyout")},t=>{L(e.id,t)})}else o.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{A.isAuth&&((0,u.RD)(A.id),(0,u.iS)(t?`/${e.username}`:"/",A.id,"account_switcher_flyout"))},e=>{A.isAuth&&L(A.id,e)})},handleReauthAccount:()=>{(0,u.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),w(null),P()},handleRemoveUnauthAccount:e=>{(0,u.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,u.RD)(e),w(null)},handleUnlockBusinessTools:()=>{e(),A.isAuth?window.location.href="https://www.pinterest.com/convert-business":x.push(`${_.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),f({event_type:101,component:8,element:10299})},isLoading:v,showUnlockBusinessTools:I}}},210578:(e,t,n)=>{n.d(t,{Dm:()=>o,Y3:()=>s,YG:()=>i});let i=e=>["MOBILE","DESKTOP"].includes(e),s=e=>"STERLING"===e,o=e=>"ANALYTICS"===e},42068:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){return e.includes(t)||e.includes(80)}},807657:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(29156),s=n(217058),o=n(968946);let l=(e,t)=>{t?.disableOriginCheck||(0,o.Z)(e)||(e="/",(0,s.My)("url_reset")),(0,i.Z)(e)}},114267:(e,t,n)=>{n.d(t,{Z:()=>i});let i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},137831:(e,t,n)=>{function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});class s{static reportGoogleConversion(e,t,n,i){if(!i){if(void 0===window.gtag_report_conversion){s.queuedGoogleConversions.push({id:e,label:t,url:n});return}window.gtag_report_conversion(e,t,n)}}static reportFacebookConversion(e,t,n){if(void 0===window.fbq){s.queuedFacebookConversions.push({id:e,event:t,data:n});return}n?window.fbq("track",t,n):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,n){if(void 0===window.fbq){s.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n});return}n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,n){if(void 0===window.pintrk){s.queuedPinterestConversions.push({id:e,event:t,data:n});return}n?window.pintrk("track",t,n):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){let n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){let i=1e13*Math.random(),s=document.createElement("iframe");s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("frameborder","0"),s.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),s.style.display="none",document.body.insertBefore(s,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};let n=s.queuedGoogleConversions;for(let i=0;i<n.length;i+=1){let o=n[i];o.id===e&&s.reportGoogleConversion(o.id,o.label,o.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,o,l,a,r;t=window,n=document,i="script",o="//connect.facebook.net/en_US/fbevents.js",t.fbq||(l=t.fbq=function(){"function"==typeof l.callMethod?l.callMethod(...arguments):l.queue.push(arguments)},t._fbq||(t._fbq=l),l.push=l,l.loaded=!0,l.version="2.0",l.queue=[],(a=n.createElement(i)).async=!0,a.src=o,(r=n.getElementsByTagName(i)[0]).parentNode.insertBefore(a,r)),window.fbq("init",e),window.fbq("track","PageView");let c=s.queuedFacebookConversions;for(let t=0;t<c.length;t+=1){let n=c[t];n.id===e&&(n.isCustomEvent?s.reportCustomFacebookConversion(e,n.event,n.data):s.reportFacebookConversion(e,n.event,n.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let n=document.createElement("script");n.async=!0,n.src=e;let i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=s.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){let i=t[n];i.id===e&&s.reportPinterestConversion(e,i.event,i.data)}}}i(s,"queuedGoogleConversions",[]),i(s,"queuedFacebookConversions",[]),i(s,"queuedPinterestConversions",[]);let o=s},316353:(e,t,n)=>{n.d(t,{OS:()=>o,iY:()=>l});var i=n(757640),s=n(149722);let o=4;function l(){let e=(0,s.Z)();return(0,i.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},65775:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),s=n(140017),o=n(785893);function l(){let e=(0,s.ZP)();return(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(i.$j,{accessibilityLabel:e.bt("Загрузка формы регистрации", "Loading signup form", " - ", undefined, true),show:!0})})}},847160:(e,t,n)=>{n.d(t,{Bx:()=>s,N4:()=>l,is:()=>a,lt:()=>i,oM:()=>o});let i=e=>e.bt("Последний шаг! Войдите в Pinterest, чтобы получить доступ ко всем ресурсам.", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),s=e=>e.bt("Войдите, чтобы сохранить пин", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),o=e=>e.bt("Войдите, чтобы редактировать пин", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),l=({i18n:e,toFollow:t})=>t?e.bt("Войдите, чтобы подписаться", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Войдите, чтобы отписаться", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),a=e=>e.bt("Войдите, чтобы создать пин или доску", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},515278:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(847160),s=n(140017),o=n(166770);let l=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.H)(),l=(0,s.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||i.lt(l))}}},769666:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(372085),s=n(217058),o=n(224796),l=n(191313),a=n(407053),r=n(264985),c=n(543975),d=n(926234),u=n(67661);async function _(e){let t=(0,u.ZP)(),n=(0,r.nR)(),_=(0,c.d)(),h=t?t.map(({pageType:e,...t})=>t):null,p={is_register:e??!1};if(h&&(p.unauth_visited_pages=JSON.stringify(h)),n&&(p.invite_redemption=JSON.stringify(n)),_&&(p.paid_landing=JSON.stringify(_)),h||n||_){let e=await (0,i.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:p});(0,s.My)(`landing_signals.flush.${e.status}`),(0,u.t_)()&&(0,l.L_)(a.tz),(0,l.qn)(o.ny)&&(0,l.L_)(o.ny),(0,l.qn)(o.Vb)&&(0,l.L_)(o.Vb),(0,r.nR)()&&((0,l.L_)(a.Lg),(0,l.L_)(a.dx)),(0,c.d)()&&(0,l.L_)(a.eV),(0,d.O)()&&(0,l.L_)(a.fo)}}},551501:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(658583),s=n(622541),o=n(337478);function l(e,t){let n=Math.round(1e3*Math.random())+"",l=Math.round(1e3*Math.random())+"";i.t8((0,s.GS)(n),l);let a={token:`${n}-${l}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,o.Z)(a)}`}},627879:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(372085),s=n(288240),o=n(569372);let l=async({clientTrackingParams:e,href:t,isMounted:n,pinId:l,spamCheckCallback:a})=>{let r=await function(e){let t=(0,s.Z)(e),n=o.y8.get("ApiResource",t);if(n)return n;let l=(0,i.Z)(e);return o.y8.add("ApiResource",t,l),l}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:l,url:t}});if(!r.resource_response.error&&n){let{message:e,redirect_status:t,url:n}=r.resource_response.data||{};a({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:n})}}},921247:(e,t,n)=>{n.d(t,{Z:()=>i});function i({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},979606:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(29156),s=n(460270);let o=e=>"string"!=typeof e&&e?e.state:null;var l=n(940910),a=n(998449),r=n(797258);let c=({event:e,onHistoryChange:t,href:n,history:c,target:d})=>{let u=(0,s.Z)(n),_=o(n)??{},h=(0,l.Z)(u);h===r.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===d?(0,i.Z)(u,"blank"===d):c&&h===r.Z.SAME_ORIGIN&&(c.push((0,a.Z)({url:u}),{from:c.location,..._}),t&&t({event:e}))}},931090:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(29156),s=n(551501);function o(e,t){(0,i.Z)((0,s.Z)(e,t),!0,t?.features)}},794977:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(467139);function s({location:e,pinId:t,surface:n}){return!!n&&!i.ZF.includes(n)||e.pathname.includes(t)}},340370:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),s=n(616550),o=n(627879),l=n(921247),a=n(979606),r=n(794977),c=n(96761),d=n(460270),u=n(862249),_=n(557874),h=n(953565);function p(e){let{clientTrackingParams:t,externalData:n,href:p,onHistoryChange:m,target:g}=e,[f,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),w=(0,s.k6)(),x=(0,s.TH)(),A=(0,d.Z)(p),C=(0,u.Z)({url:A}),{showWarning:P}=(0,_.s)()??{},{pin:S,surface:E}=n||{},k=t||S?.trackingParams,I=(0,c.Z)();return(0,i.useEffect)(()=>(y(!0),()=>{y(!1)}),[]),(0,i.useEffect)(()=>{C&&S&&null===f&&b&&(!S.promoter||S.isDownstreamPromotion)&&(0,r.Z)({location:x,pinId:S.entityId,surface:E})&&(0,o.Z)({clientTrackingParams:k,isMounted:b,pinId:S.entityId,spamCheckCallback:e=>v(e),href:A})},[k,S,E,A,C,b,x,f]),({event:e})=>{if(!(0,l.Z)({isOffsiteUrl:C,event:e})){if(e.preventDefault(),!p||"string"==typeof p&&p.startsWith("#")){(0,h.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:x.pathname,href:p}});return}C||n?.dangerouslyForceOffsiteUrl?I({auxData:n?.auxData,clientTrackingParams:k,pin:n?.pin&&{attributionSourceId:n.pin.attributionSourceId,campaignId:n.pin.campaignId,isPromoted:n.pin.isPromoted,pinPromotionId:n.pin.pinPromotionId,isThirdPartyAd:n.pin.isThirdPartyAd,advertiserId:n.pin.advertiserId,destinationUrl:n.pin.destinationUrl,link:n.pin.link,domain:n.pin.domain},pinId:n?.pin?.entityId,queryParams:n?.queryParams,showWarning:P,spamCheck:f,url:A}):(0,a.Z)({event:e,href:p,history:w,onHistoryChange:m,target:"blank"===g?"blank":null})}}}},96761:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(453880),s=n(934378),o=n(263032),l=n(86785),a=n(214877),r=n(551501),c=n(931090),d=n(171966);let u=(e,t,n)=>{let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(s.$N.ATTRIBUTE_ON,n),i.click()},_=(e,t,n,i,l,a,r)=>{let c=(0,o.m_)(e,[n,i,l],!0,a,r),d=document.createElement("a");d.setAttribute("href",t),d.setAttribute("target","_blank"),d.setAttribute("rel","noopener nofollow noreferrer"),d.style.cursor="pointer",d.style.display="block",d.setAttribute(s.NR.SOURCE,c),d.click()},h=()=>{let{logContextEvent:e}=(0,a.v)();return({attributionSourceId:t,auxData:n,campaignId:s,clientTrackingParams:o,href:a,isPromoted:c,pinId:d,pinPromotionId:h,isThirdPartyAd:p,advertiserId:m,destinationUrl:g,link:f,domain:v})=>{if(!c)return!1;let b=(0,i.Z)(),y=(0,r.Z)(a,{params:{pinId:d,csrId:null,clientTrackingParams:o,auxData:n,isThirdPartyAd:p}}),w=b?.userAgent.browserName??"";if((0,l.G6)(w)){let{group:n}=b?.experimentsClient.checkExperiment("m10n_event_conversion_measurement")??{},i=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",l=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&l>=14.1&&["enabled_safari"].includes(n))return u(t,y,a),e({event_type:101,clientTrackingParams:o,object_id_str:d||"",aux_data:{pin_id:d||"",click_measurement_ppid:h||"",click_measurement_campaign_id:s||"",is_pcm:!0,attribution_source_id:t,page_url:a}}),!0}else if((0,l.i7)(w)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return _(t,y,g,f,v,s,m),e({event_type:101,clientTrackingParams:o,object_id_str:d||"",aux_data:{pin_id:d||"",click_measurement_ppid:h||"",click_measurement_campaign_id:s||"",is_arapi:!0,attribution_source_id:t,page_url:a}}),!0;return!1}},p=e=>{let t=h();return({auxData:n,clientTrackingParams:i,pin:s,pinId:o,queryParams:l,showWarning:a,spamCheck:r,url:u})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(u,{clientTrackingParams:i,pinId:o,hasPin:!!s,auxData:n,isThirdPartyAd:s?.isThirdPartyAd});return}if(!s&&!e?.isFromClickthroughLink){(0,c.Z)(u,l?{queryParams:l}:{params:{pinId:o}});return}if(r?.blocked){a?.(r);return}s&&t({attributionSourceId:s.attributionSourceId,auxData:n,campaignId:s.campaignId?String(s.campaignId):null,clientTrackingParams:i,href:u,isPromoted:s.isPromoted,pinId:o,pinPromotionId:s.pinPromotionId?String(s.pinPromotionId):null,isThirdPartyAd:s.isThirdPartyAd,advertiserId:s.advertiserId?s.advertiserId:null,destinationUrl:s.destinationUrl,link:s.link,domain:s.domain})||(0,c.Z)(u,{params:{clientTrackingParams:i,auxData:n,pinId:o,isThirdPartyAd:s?.isThirdPartyAd}})}}},737811:(e,t,n)=>{n.d(t,{CV:()=>a.Z,Mt:()=>d,RD:()=>c,iS:()=>u,z3:()=>_});var i=n(29156),s=n(30378),o=n(307772),l=n(54576),a=n(300494),r=n(598753);let c=e=>{let t={...(0,r.rl)()};delete t[e],(0,r.r8)(t)},d=(e,t)=>{if(!(0,r.PE)()||e&&!(e.id in(0,r.rl)())){if(e.partner&&e.partner.is_linked_business&&t){(0,l.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});return}(0,l.Z)(e)}},u=(e,t,n)=>{(0,a.Z)("switch_account_success",{destination_user_id:t},n),(0,i.Z)(e)},_=(e,t)=>{s.Z.resume(o.Z3),(0,a.Z)("switch_account_failure",{destination_user_id:e},t)}},705895:(e,t,n)=>{function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>l});let s=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){let{reason:t}=e;s.windowInFocus=!1,s.onPauseListeners.forEach(e=>e(t))}else s.windowInFocus=!0,s.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>o({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>o({isHidden:!1})),window.addEventListener("blur",()=>o({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>o({isHidden:!1})),window.addEventListener("pagehide",()=>o({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let l=s},729817:(e,t,n)=>{n.d(t,{Kw:()=>a,RD:()=>r,dD:()=>d});var i=n(216167),s=n(372085),o=n(598753);let l=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],a=async()=>{let e=await i.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},r=(e,t)=>{let n=Object.freeze({});try{n=(0,o.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let i=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===i.length||n[i[0]].logged_in){e(`${t}.removeAccountDataFromLocalStorage.early_return`);return}let s=i.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,o.r8)(s),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),d=async e=>{let t=await a(),n=e.id;t[n]||(t[n]={logged_in:!0});let i=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:l.join(",")}})),o=(await (0,s.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(i)}})).resource_response.data;return o&&Object.keys(o).length>0?function(e){let t=e.every(e=>!!e.fullName)?"fullName":"username";return[...e].sort((e,n)=>e[t]>n[t]?1:n[t]>e[t]?-1:0)}(Object.keys(o).filter(e=>"success"===o[e].status).map(e=>c(o[e].data))):[]}},508218:(e,t,n)=>{n.d(t,{Ny:()=>u,ZP:()=>h,eD:()=>m,lp:()=>p,nY:()=>g});var i=n(224796),s=n(807657),o=n(602377),l=n(731714),a=n(702497),r=n(217058),c=n(88682),d=n(623891);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class _{static defaultLoginRedirectUrl(){return window.location.pathname===a.lfe||window.location.pathname===a.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=l.Z.getItem(i.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=l.Z.getItem(i.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let s=t.join("|");l.Z.setItem(i.kl,s)}static isFullyLoggedIn(e,t){return e&&t===o.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,d.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,c.Z)(e||"/",t)}}(0,s.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){l.Z.setItem(i.F6,Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,r.My)("navigatorCredentials.store.success")})}catch(e){(0,r.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,r.My)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,r.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let h=_;function p(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":p(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},598753:(e,t,n)=>{n.d(t,{M3:()=>c,PE:()=>l,Q:()=>d,lv:()=>a,r8:()=>o,rl:()=>s,yW:()=>r});var i=n(191313);let s=()=>{try{let e=(0,i.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch{return Object.freeze({})}},o=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),l=()=>!!(0,i.qn)("MULTIPLE_ACCOUNTS"),a=()=>Object.keys(s()).length,r=()=>{try{let e=(0,i.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch{return null}},c=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),d=()=>({multipleAccountMap:s(),multipleAccountGroupId:r()})},182962:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),s=n(340523);let o=()=>{let e=(0,s.F)();return(0,i.useCallback)(()=>{e.flush()},[e])}},503325:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172045),s=n(17314);function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),a=class{constructor(e){o(this,"start",()=>(this.startTime=l(),this.startTime)),o(this,"end",()=>(this.endTime=l(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,s.Z)()}e&&Object.assign(this,e)}}},28449:(e,t,n)=>{n.d(t,{$:()=>i,Z:()=>o});let{Provider:i,useMaybeHook:s}=(0,n(342513).Z)("TimeSpentManagerContext"),o=s},722363:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),s=n(373314),o=n(217058);function l(){return(0,i.useCallback)(e=>{e.action&&e.event?(0,o.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,s.Z)()}):(0,o.My)("pinner_conversion.missing_tags")},[])}},623409:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),s=n(616550),o=n(741983),l=n(389638),a=n(217058);let r=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,l.Z)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.Q0)(e)?"videos-category":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";function c(){let e=(0,s.TH)();return(0,i.useCallback)(({action:t,item:n,within:i})=>{let s=r(e);(0,a.My)(`logged_out_product.interaction.${s}.${t}`,{item:n||"none",within:i||"none"})},[e])}},595731:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),s=n(683882),o=n(785893);function l({accessibilityLabel:e,color:t,count:n,icon:l,iconSize:a,verticalNavCustomSvgBackgroundUrl:r}){let c=n<100?`${n}`:"99+";return(0,o.jsxs)(i.xu,{position:"relative",children:[r?(0,o.jsx)(s.dK,{svgBackgroundImageUrl:r}):(0,o.jsx)(i.JO,{accessibilityLabel:e,color:t,icon:l,size:a}),n>0&&(0,o.jsx)(i.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*c.length,top:-8,padding:`0 ${3===c.length?"2px":"3px"} 0 2px`}},display:"flex",height:18,justifyContent:"center",minWidth:18,position:"absolute",rounding:"pill",children:(0,o.jsx)(i.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:c})})})]})}},858128:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),s=n(785893);let o=({height:e,width:t,text:n,isAbsolute:o})=>(0,s.jsx)(i.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",position:o?"absolute":void 0,rounding:"pill",width:t,children:(0,s.jsx)(i.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:n||""})})})},460270:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},487487:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(689390),s=n(139655);let o=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,s.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,i.Z)(e[1]).pinId||void 0}}},998449:(e,t,n)=>{n.d(t,{Z:()=>o});let i=(e,t)=>0===e.lastIndexOf(t,0);var s=n(885896);let o=({url:e})=>{let t=(0,s.Z)("/");return i(e,t)?e.substr(t.length-1):e}},222881:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(494125),s=n(239821);function o({children:e}){let{setAppFocusState:t}=(0,s.I)();return(0,i.Z)(()=>(t(!1),()=>{t(!0)})),e}},171966:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(372085),s=n(931090);function o(e,t){let{auxData:n,clientTrackingParams:o,hasPin:l,pinId:a,isThirdPartyAd:r}=t||{},c={pin_id:a,check_only:!0,client_tracking_params:l?o:void 0,url:e,aux_data:JSON.stringify(n)};r&&(c.third_party_ad=a,delete c.pin_id),(0,i.Z)({url:"/v3/offsite/",data:c}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:n,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(n)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,s.Z)(e,{params:l?{pinId:a,clientTrackingParams:o,auxData:n,isThirdPartyAd:r}:{pinId:a}})})}},474708:(e,t,n)=>{n.d(t,{q:()=>_,y:()=>h});var i=n(667294),s=n(340523),o=n(5859),l=n(238299),a=n(372085);function r(e,t){(0,l.TT)(t)&&(0,a.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var c=n(897295),d=n(785893);let u=(0,i.createContext)({campaignToolPreference:null,updateCampaignToolPreference:r}),_=({children:e})=>{let[t,n]=(0,i.useState)(null),a=(0,s.F)(),{advertiser:_}=(0,o.B)(),h=async(e,t)=>{r(e,t),n(t)};(0,i.useEffect)(()=>{(0,l.UM)(a,{skipActivation:!0})&&(async()=>{_&&n(await (0,c.f)(_.id))})()},[_,a]);let p=(0,i.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:h}),[t]);return(0,d.jsx)(u.Provider,{value:p,children:e})},h=()=>(0,i.useContext)(u)},454535:(e,t,n)=>{n.d(t,{XI:()=>s,YZ:()=>l,rc:()=>o,sU:()=>c});var i=n(667294);function s(e){let[t,n]=(0,i.useState)(!1),s=()=>n(!0),o=()=>n(!1);return(0,i.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",o)),()=>{t&&(t.removeEventListener("mouseenter",s),t.removeEventListener("mouseleave",o))}}),t}let o=e=>{let t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t.current=e}),t.current};function l(){let e=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{e.current=!1},[]),e.current}function a(e,t){return Object.is(e,t)}let r=Symbol("pre-initial value");function c(e,{equal:t=a,delta:n}={equal:a}){let s=(0,i.useRef)(r),o=s.current;return(0,i.useEffect)(()=>{s.current=e}),{previousValue:o,changed:o===r||!t(o,e),delta:n?.(o,e)}}},58120:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(240684),s=n(883119),o=n(65775),l=n(140017),a=n(674e3),r=n(785893);let c=(0,i.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,106110)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>106110});function d(e){let t=(0,l.ZP)();return(0,r.jsx)(a.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,r.jsx)(s.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,r.jsx)(c,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t.bt("Добавить аккаунт", "Add account", "Short text on the button that allows a user to log in to another Pinterest account", undefined, true),fallback:(0,r.jsx)(o.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},311694:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>r});var i=n(667294),s=n(342513),o=n(58120),l=n(785893);let{Provider:a,useHook:r}=(0,s.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,i.useState)(!1),[s,r]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),u=(0,i.useCallback)((e,t)=>{d(e),t&&r(t),n(!0)},[]),_=(0,i.useMemo)(()=>({showAccountSwitcherLoginModal:u}),[u]);return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(a,{value:_,children:e}),t&&(0,l.jsx)(o.Z,{container:c,email:s??"",onClose:()=>n(!1)})]})}},674e3:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(883119),s=n(140017),o=n(406893),l=n(623409),a=n(785893);let r=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,c={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},d={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},u={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},_={overflow:"hidden",position:"fixed",right:"24px",top:"24px"};function h(e){let t=(0,s.ZP)(),n=(0,l.Z)(),{renderContent:h}=e;return(0,a.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:c},children:[(0,a.jsx)(o.Z,{unsafeCSS:r}),(0,a.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:d,children:(0,a.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:u,children:[h(),(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:_},children:(0,a.jsx)(i.hU,{accessibilityLabel:t.bt("закрыть", "close", "accessible label for close button", undefined, true),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},794109:(e,t,n)=>{n.d(t,{N:()=>h,t:()=>g});var i=n(667294),s=n(616550),o=n(216167),l=n(807657),a=n(137831),r=n(114267),c=n(342513),d=n(340523),u=n(785893);let{Provider:_,useHook:h}=(0,c.Z)("LinkedAccount"),p=e=>{(0,l.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},m=(e,t)=>{a.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),a.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),a.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),a.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e),t.push("/")};function g({children:e}){let[t,n]=(0,i.useState)(!1),[l,a]=(0,i.useState)([]),{checkExperiment:r}=(0,d.F)(),c=(0,s.k6)(),h=r("ppm_p_gate").anyEnabled,g=(0,i.useCallback)(({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:s})=>(n(!0),o.Z.create("BusinessOwnershipResource",{business_name:e,third_party_apps:t}).callCreate({showError:!0}).then(()=>{i&&m(h,c),n(!1),p(s)}).catch(e=>(n(!1),Promise.reject({error:e})))),[n,h,c]),f=(0,i.useMemo)(()=>({createLinkedBusinessAccount:g,linkedBusinessCreationLoading:t,userAccounts:l,userAccountsRetrieved:a}),[g,t,a,l]);return(0,u.jsx)(_,{value:f,children:e})}},239821:(e,t,n)=>{n.d(t,{g:()=>_,I:()=>u});var i=n(667294),s=n(342513),o=n(705895),l=n(259866);let a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},r=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:s,currentTime:o}=n,{videosAutoplaying:a}=e,{currentlyPlayingOrganicVideoId:r,promotedVideosAutoplaying:c,organicVideosAutoplaying:d}=a,u=(0,l.Z)(c),_=(0,l.Z)(d);return!s&&r?e:(s?u[i]={pinId:i,currentTime:o,paused:!1}:_[i]={pinId:i,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:s?r:i,promotedVideosAutoplaying:u,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:s,currentTime:o}=n,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:r,organicVideosAutoplaying:c}=a,d=(0,l.Z)(r),u=(0,l.Z)(c);return s?d[i]={...d[i],paused:!0,currentTime:o}:u[i]={...u[i],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var c=n(785893);let{Provider:d,useHook:u}=(0,s.Z)("AppUI");function _({children:e}){let[t,n]=(0,i.useReducer)(r,a),s=(0,i.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),l=(0,i.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,i.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),_=(0,i.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,i.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),p=(0,i.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,i.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,i.useMemo)(()=>({pauseAutoplay:s,setCurrentVideo:u,setFooterPlusButtonVisible:_,setIsAutoplay:h,setViewportSize:p,toggleTypeaheadOverlay:m,setAppFocusState:l,appUI:t}),[s,u,_,h,p,m,l,t]);return(0,i.useEffect)(()=>{o.Z.onSessionResume(()=>{l(!0)}).onSessionPause(()=>{l(!1)})},[l]),(0,c.jsx)(d,{value:g,children:e})}},467139:(e,t,n)=>{n.d(t,{UP:()=>a,Wv:()=>s,ZF:()=>i,zI:()=>o,zl:()=>l});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],s=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],o=[...s,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingTool"],l=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],a=["BaseBoardPinGrid"]},286318:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)(()=>null)},190149:(e,t,n)=>{n.d(t,{Z:()=>o,k:()=>i});let{Provider:i,useHook:s}=(0,n(342513).Z)("Conversations"),o=s},226136:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(190149);function s(){let{conversations:{data:e}}=(0,i.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},514810:(e,t,n)=>{n.d(t,{C:()=>i,Z:()=>o});let{Provider:i,useHook:s}=(0,n(342513).Z)("Header"),o=s},418739:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),s=n(883119),o=n(3808),l=n(214877),a=n(249150),r=n(961550),c=n(785893);let d=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,c.jsx)(a.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,u=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:a,selected:u,text:_,type:h="link",url:p,contextData:m,onClick:g})=>{let{logContextEvent:f}=(0,l.v)(),{enabled:v}=(0,o.Z)(),[b,y]=(0,i.useState)("transparent"),[w,x]=(0,i.useState)("transparent"),A=(0,i.useRef)(null),C=()=>{y("secondary"),x(r.bT)},P=()=>{y("transparent"),x("transparent")},S=()=>{y("transparent")},E=()=>{y("secondary")},k=e=>{if(m){let{event:e,component:t,element:n}=m;f({event_type:e,component:t,element:n})}g&&g(e)},I=(0,c.jsx)(s.iP,{accessibilityLabel:e,onBlur:S,onFocus:E,onMouseEnter:C,onMouseLeave:P,onTap:({event:e})=>k(e),rounding:v?r.uW:"circle",children:(0,c.jsx)(s.xu,{alignItems:"center",color:v?void 0:b,dangerouslySetInlineStyle:v?{__style:{backgroundColor:w}}:void 0,display:"flex",height:48,justifyContent:"center",rounding:v?r.uW:"circle",width:48,children:n})});if(a||"link"!==h||!p||t){if("link"===h&&(t&&n||a)){let i,o,l="pill";l=n||a?_&&!t?"pill":"circle":"pill",n&&(i=n),a&&(o=a);let r=_ instanceof Object?_:(0,c.jsx)(s.xv,{color:u?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:_});I=(0,c.jsx)(s.Tg,{accessibilityLabel:e,href:p||"",onBlur:S,onFocus:E,onMouseEnter:C,onMouseLeave:P,onTap:({event:e})=>k(e),rounding:l,children:(0,c.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[i,!!_&&!t&&(0,c.jsx)(s.xu,{paddingX:2,children:r}),o]})})}}else I=(0,c.jsx)(d,{anchorElementRef:A,experienceAnchor:"/"===p?".HomeButton2":"",children:(0,c.jsx)(s.Tg,{ref:A,accessibilityLabel:e,href:p,onBlur:S,onFocus:E,onMouseEnter:C,onMouseLeave:P,onTap:({event:e})=>k(e),rounding:"pill",children:(0,c.jsx)(s.xu,{color:v?void 0:b,dangerouslySetInlineStyle:v?{__style:{backgroundColor:w}}:void 0,paddingX:4,paddingY:4,rounding:"pill",children:(0,c.jsx)(s.xv,{color:u?"default":"subtle",overflow:"normal",weight:"bold",children:_})})})});return(0,c.jsx)(s.xu,{position:"relative",children:I})}},509474:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>s});let{Provider:i,useHook:s}=(0,n(342513).Z)("SiteParametersContextType")},683882:(e,t,n)=>{n.d(t,{Eq:()=>d,dK:()=>c,vX:()=>r});var i=n(667294),s=n(883119),o=n(876594),l=n(961550),a=n(785893);let r={home:{default:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.3217 0.307444C11.7345 0.0407477 12.2654 0.0407477 12.6782 0.307444L22.3616 6.56277C22.7181 6.79303 22.9334 7.1884 22.9334 7.61275V23.25H1.06653V7.61275C1.06653 7.1884 1.28181 6.79303 1.63826 6.56277L11.3217 0.307444ZM3.56653 8.2934V20.75H20.4334V8.2934L11.9999 2.84555L3.56653 8.2934Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 16.0469V20.5H14.2344V23H16.75V16.0469C16.75 13.4235 14.6234 11.2969 12 11.2969C9.37665 11.2969 7.25 13.4235 7.25 16.0469V23H9.75V20.5V20.1094V16.0469C9.75 14.8042 10.7574 13.7969 12 13.7969C13.2426 13.7969 14.25 14.8042 14.25 16.0469Z" fill="black"/></svg>\')',selected:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M21.6834 22H2.31659V7.61275L12 1.35742L21.6834 7.61275V22Z" fill="black"/><path d="M2.31659 22H1.31659V23H2.31659V22ZM21.6834 22V23H22.6834V22H21.6834ZM21.6834 7.61275H22.6834C22.6834 7.27327 22.5112 6.95697 22.226 6.77277L21.6834 7.61275ZM2.31659 7.61275L1.77398 6.77277C1.48882 6.95697 1.31659 7.27327 1.31659 7.61275H2.31659ZM12 1.35742L12.5426 0.51744C12.2123 0.304083 11.7877 0.304083 11.4574 0.51744L12 1.35742ZM2.31659 23H21.6834V21H2.31659V23ZM22.6834 22V7.61275H20.6834V22H22.6834ZM1.31659 7.61275V22H3.31659V7.61275H1.31659ZM22.226 6.77277L12.5426 0.51744L11.4574 2.1974L21.1408 8.45273L22.226 6.77277ZM11.4574 0.51744L1.77398 6.77277L2.8592 8.45273L12.5426 2.1974L11.4574 0.51744Z" fill="black"/><path d="M9.25 17.0469C9.25 15.5281 10.4812 14.2969 12 14.2969C13.5188 14.2969 14.75 15.5281 14.75 17.0469V23.5293H9.25V17.0469Z" fill="white"/></svg>\')'},create:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 3.5H5C4.17157 3.5 3.5 4.17157 3.5 5V19C3.5 19.8284 4.17157 20.5 5 20.5H19C19.8284 20.5 20.5 19.8284 20.5 19V5C20.5 4.17157 19.8284 3.5 19 3.5ZM5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5Z" fill="%23111111"/><path d="M13.25 7C13.25 6.30964 12.6904 5.75 12 5.75C11.3096 5.75 10.75 6.30964 10.75 7V10.75H7C6.30964 10.75 5.75 11.3096 5.75 12C5.75 12.6904 6.30964 13.25 7 13.25H10.75V17C10.75 17.6904 11.3096 18.25 12 18.25C12.6904 18.25 13.25 17.6904 13.25 17V13.25H17C17.6904 13.25 18.25 12.6904 18.25 12C18.25 11.3096 17.6904 10.75 17 10.75H13.25V7Z" fill="%23111111"/></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5ZM12 4.75C12.6904 4.75 13.25 5.30964 13.25 6V10.75H18C18.6904 10.75 19.25 11.3096 19.25 12C19.25 12.6904 18.6904 13.25 18 13.25H13.25V18C13.25 18.6904 12.6904 19.25 12 19.25C11.3096 19.25 10.75 18.6904 10.75 18V13.25H6C5.30964 13.25 4.75 12.6904 4.75 12C4.75 11.3096 5.30964 10.75 6 10.75H10.75V6C10.75 5.30964 11.3096 4.75 12 4.75Z" fill="%23111111"/></svg>\')'},today:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32453)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.75329 17.2467 2.5 12 2.5C6.75329 2.5 2.5 6.75329 2.5 12C2.5 17.2467 6.75329 21.5 12 21.5ZM12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.3839 5.61609C18.7375 5.96967 18.8463 6.49995 18.6606 6.96423L15.7439 14.2561C15.7415 14.2624 15.739 14.2687 15.7365 14.275C15.4315 15.0368 14.8232 15.6361 14.0591 15.9306L6.94891 18.6666C6.48783 18.844 5.9655 18.7332 5.61615 18.3839C5.2668 18.0346 5.15597 17.5123 5.33336 17.0512L8.06803 9.94284C8.36219 9.17808 8.96156 8.56859 9.72491 8.26414L17.0357 5.33943C17.5 5.15369 18.0303 5.26252 18.3839 5.61609ZM13.4115 13.3556C13.4126 13.3531 13.4136 13.3505 13.4146 13.3479L15.2561 8.74398L10.6512 10.5862C10.5376 10.6315 10.4466 10.7228 10.4014 10.8402L8.67684 15.323L13.1601 13.5978C13.2734 13.5541 13.364 13.4666 13.4115 13.3556Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32453"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32464)"><path d="M12.8672 12.9015C12.9835 12.7854 13.0757 12.6476 13.1386 12.4958C13.2016 12.3441 13.234 12.1815 13.2341 12.0172C13.2342 11.8529 13.202 11.6903 13.1392 11.5385C13.0764 11.3867 12.9843 11.2487 12.8682 11.1325C12.7522 11.0163 12.6143 10.9241 12.4626 10.8611C12.3109 10.7982 12.1482 10.7657 11.984 10.7656C11.8197 10.7655 11.657 10.7978 11.5052 10.8606C11.3534 10.9234 11.2155 11.0154 11.0992 11.1315C10.9832 11.2477 10.8911 11.3857 10.8283 11.5375C10.7655 11.6893 10.7333 11.8519 10.7334 12.0162C10.7336 12.348 10.8655 12.666 11.1002 12.9005C11.335 13.135 11.6532 13.2666 11.985 13.2664C12.3167 13.2662 12.6348 13.1342 12.8692 12.8995L12.8672 12.9015ZM15.1372 14.0335C14.9302 14.5505 14.5172 14.9575 13.9982 15.1575L5.61925 18.3815L8.84225 10.0045C9.04225 9.4845 9.44925 9.0715 9.96625 8.8655L18.5833 5.4185L15.1362 14.0355L15.1372 14.0335ZM20.4853 3.5145C15.7993 -1.1715 8.20125 -1.1715 3.51525 3.5145C-1.17175 8.2015 -1.17175 15.7995 3.51525 20.4855C8.20125 25.1715 15.7993 25.1715 20.4853 20.4855C25.1713 15.7995 25.1713 8.2005 20.4853 3.5145Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32464"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},notifications:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 14.227V7C16.5 4.51471 14.4853 2.5 12 2.5C9.51471 2.5 7.5 4.51471 7.5 7V14.227L6.73561 14.9643C6.26116 15.422 5.84638 15.9379 5.5032 16.5H18.4968C18.1536 15.9379 17.7388 15.422 17.2644 14.9643L16.5 14.227ZM21.3013 16.5C21.6365 17.2867 21.8745 18.1248 22 19H2C2.12546 18.1248 2.36354 17.2867 2.69865 16.5C3.23694 15.2362 4.0256 14.1049 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7V13.165C19.9744 14.1049 20.7631 15.2362 21.3013 16.5ZM15 20.9998H9C9 21.1702 9.01421 21.3373 9.0415 21.5C9.18134 22.3334 9.66468 23.0501 10.341 23.4998C10.8161 23.8157 11.3866 23.9998 12 23.9998C12.6134 23.9998 13.1839 23.8157 13.659 23.4998C14.3353 23.0501 14.8187 22.3334 14.9585 21.5C14.9858 21.3373 15 21.1702 15 20.9998Z" fill="%23111111"/></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32470)"><path d="M19 7V13.165C20.581 14.69 21.673 16.719 22 19H2C2.327 16.719 3.419 14.69 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7Z" fill="%23111111"/><path d="M15 20.9998C15 22.6568 13.657 23.9998 12 23.9998C10.343 23.9998 9 22.6568 9 20.9998H15Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32470"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},messages:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_800_18532)"><rect width="24" height="24" fill="none"/><path d="M4.6831 18.2737L4.84947 17.6551L4.44456 17.1588C3.07314 15.4778 2.25 13.3365 2.25 11C2.25 5.61536 6.61536 1.25 12 1.25C17.3846 1.25 21.75 5.61536 21.75 11C21.75 16.3846 17.3846 20.75 12 20.75C10.6917 20.75 9.44625 20.4881 8.30368 20.0202L7.75509 19.7956L7.23401 20.0782L3.67907 22.0065L4.6831 18.2737Z" stroke="%23111111" stroke-width="2.5"/><circle cx="6.99219" cy="11.0078" r="1.5" fill="%23111111"/><path d="M13.4961 11.0078C13.4961 11.8362 12.8245 12.5078 11.9961 12.5078C11.1677 12.5078 10.4961 11.8362 10.4961 11.0078C10.4961 10.1794 11.1677 9.50781 11.9961 9.50781C12.8245 9.50781 13.4961 10.1794 13.4961 11.0078Z" fill="%23111111"/><circle cx="17" cy="11.0078" r="1.5" fill="%23111111"/></g><defs><clipPath id="clip0_800_18532"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32468)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 12.5C17.172 12.5 16.5 11.829 16.5 11C16.5 10.171 17.172 9.5 18 9.5C18.828 9.5 19.5 10.171 19.5 11C19.5 11.829 18.828 12.5 18 12.5ZM12 12.5C11.172 12.5 10.5 11.829 10.5 11C10.5 10.171 11.172 9.5 12 9.5C12.828 9.5 13.5 10.171 13.5 11C13.5 11.829 12.828 12.5 12 12.5ZM6 9.5C6.828 9.5 7.5 10.171 7.5 11C7.5 11.829 6.828 12.5 6 12.5C5.172 12.5 4.5 11.829 4.5 11C4.5 10.171 5.172 9.5 6 9.5ZM12 0C5.925 0 1 4.925 1 11C1 13.636 1.93 16.054 3.476 17.949L2.016 23.377C1.909 23.805 2.366 24.151 2.749 23.933L7.83 21.177C9.117 21.704 10.523 22 12 22C18.075 22 23 17.075 23 11C23 4.925 18.075 0 12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32468"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'},moreOptions:{default:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32461)"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.45081V16.5492L12 21.1206L20 16.5492V7.45081L12 2.87938L4 7.45081ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM6.5 12C6.5 8.96243 8.96243 6.5 12 6.5C15.0376 6.5 17.5 8.96243 17.5 12C17.5 15.0376 15.0376 17.5 12 17.5C8.96243 17.5 6.5 15.0376 6.5 12Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32461"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')',selected:'url(\'data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32472)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.25C9.653 16.25 7.75 14.347 7.75 12C7.75 9.653 9.653 7.75 12 7.75C14.347 7.75 16.25 9.653 16.25 12C16.25 14.347 14.347 16.25 12 16.25ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32472"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>\')'}},c=({svgBackgroundImageUrl:e,inline:t,verticalAlign:n,ariaLabel:i})=>(0,a.jsx)(s.xu,{"aria-label":i,dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundImage:e,verticalAlign:n}},display:t?"inlineBlock":"block",height:20,width:20}),d=(0,i.forwardRef)(({tooltipText:e,href:t,selectedSvgUrl:n,defaultSvgUrl:r,selected:d,onSelect:u},_)=>{let[h,p]=(0,i.useState)("transparent"),m=()=>{p(o.Kuk)},g=()=>{p("transparent")},f=(0,a.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:h}},display:"flex",height:48,justifyContent:"center",rounding:l.uW,width:48,children:(0,a.jsx)(c,{svgBackgroundImageUrl:d?n:r})});return(0,a.jsx)(s.u,{idealDirection:l.Mh,text:e,zIndex:l.BO,children:t?(0,a.jsx)(s.Tg,{ref:_,href:t,onMouseEnter:m,onMouseLeave:g,onTap:u,rounding:l.uW,children:f}):(0,a.jsx)(s.iP,{ref:_,onMouseEnter:m,onMouseLeave:g,onTap:u,rounding:l.uW,children:f})})})},961550:(e,t,n)=>{n.d(t,{BO:()=>x,GC:()=>E,GJ:()=>g,L7:()=>p,Lc:()=>u,Mh:()=>c,Qf:()=>d,Qq:()=>S,Un:()=>k,X$:()=>P,Z7:()=>h,bT:()=>b,bd:()=>v,df:()=>_,iz:()=>L,kl:()=>f,lR:()=>I,m6:()=>A,mT:()=>w,pS:()=>y,uW:()=>C,zz:()=>m});var i,s,o=n(883119),l=n(876594),a=n(898518),r=n(983983);let c="right",d=72,u="VerticalNavContent",_=24,h="lg",p=16,m=16,g=392,f=12,v=l.mJW,b=l.Kuk,y=new o.H3([r.NW]),w=new o.Ry(r.fe-3),x=new o.H3([y,a.kl]),A=new o.H3([x]),C=2,P=8,S=3,E=12,k=((i={}).PINTEREST_LOGO="web.vertical_nav.pinterest_logo.click",i.HOME="web.vertical_nav.home.click",i.TODAY="web.vertical_nav.today.click",i.CREATE="web.vertical_nav.create.click",i.NEWS="web.vertical_nav.news.click",i.CONVERSATIONS="web.vertical_nav.conversations.click",i.AVATAR="web.vertical_nav.avatar.click",i.ACCOUNT_SWITCHER="web.vertical_nav.account_switcher.click",i.MORE_OPTIONS_OPT_OUT="web.vertical_nav.more_options.opt_out",i.MORE_OPTIONS="web.vertical_nav.more_options.click",i),I=((s={}).CONTROL="control",s.EMPLOYEES="employees",s.ENABLED="enabled",s.ENABLED_HOME_BUTTON="enabled_home_button",s.ENABLED_HOME_AND_LOGO="enabled_home_and_logo",s.NONE="",s),L=e=>({tags:{experimentGroup:e}})},408998:(e,t,n)=>{n.d(t,{M:()=>o,f:()=>s});var i=n(658583);let s=()=>{i.t8({name:"forced_experiments",purpose:"personalization",httpOnly:!1,duration:"30d"},JSON.stringify({web_vertical_nav:!1}))},o=()=>{i.zN("forced_experiments")}},162383:(e,t,n)=>{n.d(t,{Jo:()=>d,mv:()=>_,nJ:()=>u});var i=n(667294),s=n(342513);let o={hiddenNews:{}};function l(e=o,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){let{payload:{id:n,isHidden:i}}=t;return{hiddenNews:{...e.hiddenNews,[n]:i}}}return e}var a=n(785893);let{Provider:r,useHook:c}=(0,s.Z)("HiddenNews");function d({children:e}){let[t,n]=(0,i.useReducer)(l,o),s=(0,i.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,a.jsx)(r,{value:s,children:e})}function u(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,i.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>!(e.id in t&&t[e.id])).length}),[e,t])}function _(){let{hiddenNews:e}=c();return e}},995026:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(741983);function s(e){return!((0,i.Gl)(e)||(0,i.PY)(e)||(0,i.jC)(e)||(0,i.Xn)(e)||(0,i.b_)(e)||(0,i.oF)(e)||(0,i.dt)(e)||(0,i.x7)(e)||(0,i.cY)(e)||(0,i.bb)(e))}},985238:(e,t,n)=>{n.d(t,{Z:()=>h,j:()=>p});var i=n(667294),s=n(342513),o=n(510989),l=n(930837),a=n(140017),r=n(149722),c=n(832853),d=n(785893);let u=(0,c.Z)(()=>n.e(73669).then(n.bind(n,984471)),void 0,"app-www-ReportBug-ReportBug"),{Provider:_,useHook:h}=(0,s.Z)("reportBugModalContext");function p({children:e}){let t=(0,a.ZP)(),[n,s]=(0,i.useState)(!1),c=(0,r.Z)(),h=(0,i.useCallback)(()=>{s(!0)},[]),p=(0,i.useMemo)(()=>({handleShowReportBugModal:h}),[h]);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(_,{value:p,children:e}),n&&c.isAuth&&(0,d.jsx)(l.ZP,{accessibilityModalLabel:t.bt("Сообщение об ошибке", "Report bug", "header.accountsOptionsMenu.logout", undefined, true),onDismiss:()=>{s(!1)},children:(0,d.jsx)(o.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,d.jsx)(u,{onDismiss:()=>{s(!1)},username:c.username})})})]})}},483169:(e,t,n)=>{n.d(t,{_:()=>h,j:()=>p});var i=n(667294),s=n(616550),o=n(684334),l=n(700280),a=n(342513),r=n(288673),c=n(149722),d=n(454051),u=n(785893);let{Provider:_,useHook:h}=(0,a.Z)("SosInfo");function p({children:e}){let[t,n]=(0,i.useState)(o.SOS_INVALID_PERMISSION_TYPE),{is_sterling_on_steroids:a,is_internal_ip:h}=(0,l.u)(),p=(0,d.HF)(),m=(0,s.TH)().pathname===p,g=(0,c.Z)(),f=g?.id;(0,i.useEffect)(()=>{!async function(){if(a&&h&&!m){let e=await (0,r.gE)({entity_id:f});e&&e.sos_user_type&&n(e.sos_user_type)}else n(o.SOS_INVALID_PERMISSION_TYPE)}()},[f,a,m,h]);let v=(0,i.useMemo)(()=>({adminPermissionType:t}),[t]);return(0,u.jsx)(_,{value:v,children:e})}},557874:(e,t,n)=>{n.d(t,{Z:()=>g,s:()=>m});var i=n(667294),s=n(342513),o=n(608575),l=n(883119),a=n(930837),r=n(140017),c=n(339001),d=n(785893);let u=()=>{let e=(0,r.ZP)(),{dismissWarning:t}=m()??{};return(0,d.jsx)(l.xu,{paddingX:3,children:(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:t,text:e.bt("ОК", "Okay", "Dismiss a modal stating that clicking through to a link has been blocked", undefined, true)})})},_=()=>{let e=(0,r.ZP)();return(0,d.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(l.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e.bt("Подробнее", "Learn more", "Link text leading to policy website", undefined, true)})})},h=({message:e,sanitized_url:t})=>{let n=(0,r.ZP)(),{dismissWarning:i}=m()??{};return(0,d.jsx)(a.ZP,{accessibilityModalLabel:n.bt("Мы заблокировали эту ссылку", "We have blocked this link", "Modal label when clicking a spammy link", undefined, true),footer:(0,d.jsx)(u,{}),heading:n.bt("Внимание!", "Heads up!", "Modal heading when clicking through to a link has been blocked", undefined, true),onDismiss:i,children:(0,d.jsxs)(l.xu,{padding:6,children:[(0,d.jsx)(l.xv,{children:(0,c.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(_,{},"learnMoreLink")})}),(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(l.xu,{marginEnd:3,children:(0,d.jsx)(l.JO,{accessibilityLabel:n.bt("Адрес заблокированной ссылки", "Blocked link address", "Icon label preceding a block url", undefined, true),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(l.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})},{Provider:p,useMaybeHook:m}=(0,s.Z)("SpammyClickthrough");function g({children:e}){let[t,n]=(0,i.useState)(null),s=(0,i.useCallback)(()=>{n(null)},[n]),o=(0,i.useCallback)(e=>{n(e)},[n]),l=(0,i.useMemo)(()=>({dismissWarning:s,showWarning:o}),[s,o]);return(0,d.jsxs)(p,{value:l,children:[t&&(0,d.jsx)(h,{...t}),e]})}},898518:(e,t,n)=>{n.d(t,{CZ:()=>l,Db:()=>r,Lu:()=>o,kl:()=>i,sb:()=>a,t3:()=>s,to:()=>c});let i=new(n(883119)).Ry(700),s="defaultInboxView",o="newMessageView",l="newMessageSelectRecipientsView",a="invitesRequestsView",r="followInviteEducationView",c=64},734513:(e,t,n)=>{n.d(t,{Z:()=>l,b:()=>a});var i=n(667294);let s=(0,i.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}});var o=n(785893);function l({children:e}){let[t,n]=(0,i.useState)(null),[l,a]=(0,i.useState)(null),[r,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null),_=(0,i.useMemo)(()=>({inboxButton:t,setInboxButton:n,profileInboxButton:l,groupBoardMessageButton:d,setProfileInboxButton:a,isUnblockToast:r,setIsUnblockToast:c,setGroupBoardMessageButton:u}),[t,l,r,d]);return(0,o.jsx)(s.Provider,{value:_,children:e})}function a(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},474373:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),s=n(616550),o=n(883119),l=n(510989),a=n(140017),r=n(741983),c=n(608516),d=n(624797),u=n(190149),_=n(432614),h=n(228150),p=n(983983),m=n(683882),g=n(162383),f=n(785893);let v=()=>n.e(96218).then(n.bind(n,696218)),b=(0,i.lazy)(v);function y({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,onClearBadges:y,zIndex:w,onClick:x,onPanelChange:A,tooltipText:C}){let P=(0,a.ZP)(),S=(0,s.TH)(),E=(0,i.useRef)(null),[k,I]=(0,i.useState)(!1),[L,Z]=(0,i.useState)(!1),[T,j]=(0,i.useState)(!1),[O,R]=(0,i.useState)(!1),{tab:M,news_hub_id:z}=(0,d.mB)(S.search),{conversations:{conversationsUnseenCount:N,newsHubCount:D}}=(0,u.Z)(),B=e=>{if((0,r.L6)(S))return;let t=Math.max(e,0),n=P.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=t?`(${t}) ${n}`:n};return(0,i.useEffect)(()=>{B(N+D),S.pathname.startsWith("/notifications")&&"inbox"!==M&&I(!0)},[N,D]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{Z(k),j(k),A?.(k)},100);return()=>clearTimeout(e)},[k]),(0,i.useEffect)(()=>{k&&A?.(k)},[k]),(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(o.xu,{ref:E,"data-test-id":"bell-icon",onMouseEnter:v,position:"relative",children:(0,f.jsx)(o.u,{accessibilityLabel:"",idealDirection:e,text:C||P.bt("Уведомления", "Notifications", "navbar.newsButton.tooltip", undefined, true),zIndex:w||new o.H3([new o.Ry(p.fe)]),children:(0,f.jsx)(h.Z,{badgeCount:D,defaultColor:t,icon:"bell",onClick:()=>{x?.(),I(!k),y(_.S.NEWS_HUB),B(0)},selected:k,selectedColor:n,verticalNavCustomSvgBackgroundUrlDefaultState:m.vX.notifications.default,verticalNavCustomSvgBackgroundUrlSelectedState:m.vX.notifications.selected})})}),(0,f.jsx)(g.Jo,{children:(0,f.jsx)("div",{className:"newsHubSidebarWrapper",style:k?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:L&&(0,f.jsx)(l.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(b,{handleDismissPanel:()=>{I(!1),R(!1)},highlightScrollSidebar:O,newsButton:E.current,show:T,utmNewsHubId:z||null})})})})})]})}var w=n(647352);function x({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:i,onClick:s,onPanelChange:o,tooltipText:l}){return(0,f.jsx)(w.Z,{icon:"bell",children:({onClearBadges:a})=>(0,f.jsx)(y,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:a,onClick:s,onPanelChange:o,selectedIconColor:n,tooltipText:l,zIndex:i})})}},228150:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(3808),s=n(140017),o=n(595731),l=n(418739),a=n(785893);function r({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:r=!1,defaultColor:c="subtle",selectedColor:d="default",verticalNavCustomSvgBackgroundUrlDefaultState:u,verticalNavCustomSvgBackgroundUrlSelectedState:_}){let h=(0,s.ZP)(),p={bell:h.bt("Уведомл.", "Notifications", " - ", undefined, true),"speech-ellipsis":h.bt("Сообщения", "Messages", " - ", undefined, true)},{enabled:m}=(0,i.Z)();return(0,a.jsx)(l.Z,{accessibilityLabel:p[t],contextData:{event:101,component:8,element:1187},icon:(0,a.jsx)(o.Z,{accessibilityLabel:"",color:r?d:c,count:e,icon:t,iconSize:24,verticalNavCustomSvgBackgroundUrl:r?m?_:void 0:m?u:void 0}),onClick:n,text:p[t],type:"button"},"NotificationsButton")}},432614:(e,t,n)=>{n.d(t,{S:()=>i});let i={NEWS_HUB:1,INBOX:2}},791486:(e,t,n)=>{n.d(t,{Z:()=>i});let i=function(e){return{...e,ts:Date.now()}}},264985:(e,t,n)=>{n.d(t,{Lp:()=>d,SL:()=>r,nR:()=>c});var i=n(191313),s=n(407053),o=n(791486),l=n(89190),a=n(249170);let r=()=>{let e=(0,i.qn)(s.dx,"");return(0,a.Z)(e,[])},c=()=>{let e=(0,i.qn)(s.Lg,"");return(0,a.Z)(e,null)},d=e=>{if(!e)return;let t=[...r()],n=(0,o.Z)({inviteCode:e});(0,i.Nh)(s.Lg,JSON.stringify(n)),t.length>=l.e||(0,i.Nh)(s.dx,JSON.stringify([n].concat(t)))}},543975:(e,t,n)=>{n.d(t,{S:()=>r,d:()=>a});var i=n(191313),s=n(407053),o=n(791486),l=n(249170);let a=()=>{let e=(0,i.qn)(s.eV,"");return(0,l.Z)(e,null)},r=(e,t)=>{if(!e)return;let n=(0,o.Z)({...!!t&&{adImageUrl:t},campaignId:e});(0,i.Nh)(s.eV,JSON.stringify(n))}},926234:(e,t,n)=>{n.d(t,{C:()=>l,O:()=>o});var i=n(191313),s=n(407053);let o=()=>(0,i.qn)(s.fo,""),l=e=>{(0,i.Nh)(s.fo,e)}},901551:(e,t,n)=>{n.d(t,{Z:()=>R});var i=n(667294),s=n(616550),o=n(883119),l=n(216167),a=n(3808),r=n(515278),c=n(140017),d=n(741983),u=n(340523),_=n(731714),h=n(494125),p=n(149722),m=n(190149),g=n(226136),f=n(432614),v=n(734513),b=n(228150),y=n(983983),w=n(683882),x=n(867013),A=n(214877),C=n(205841),P=n(406893),S=n(5859),E=n(140186),k=n(785893);let I=({isRTL:e,isNotifFadingOut:t,anchor:n,isVerticalNavEnabled:i})=>{let s,o;let l=document.body?document.body.clientWidth:window.innerWidth-x.n,{left:a,bottom:r,width:c,height:d,right:u}=n.getBoundingClientRect();i||(e?(s=a-20,o=c/2+20-4):(s=l-u-20,o=20+c/2-4));let _=i?`
    top: ${r-d/2}px;
    left: ${a+c+20}px;
    transform: translateY(-50%);
  `:`
    top: 65px;
    ${e?"left":"right"}: ${s}px;
  `,h=i?`
    top: 50%;
    left: -6px;
    transform: rotate(45deg) translateY(-50%);
  `:`
    ${e?"left":"right"}: ${o}px;
    top: -4px;
    transform: rotate(135deg);
  `;return`
  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }

  #message-notif-toast{
    position: absolute;
    ${_}
    animation: ${t?"fadeOut":"none"} 1000ms;
  }

  #message-notif-toast:after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background-color: rgb(17,17,17);
    clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    border-radius: 0 0 0 3px;
    ${h}
  }
  `};function L({conversation:e,anchor:t}){let[n,s]=(0,i.useState)(!1),[l,r]=(0,i.useState)(!1),{dropdownOpen:d,conversationOpen:u}=(0,m.Z)(),p=(0,c.ZP)(),{isRTL:g}=(0,S.B)(),{logContextEvent:f}=(0,A.v)(),{enabled:v}=(0,a.Z)();if((0,h.Z)(()=>{let t=e.last_message,n=_.Z.getItem("last_notified_message_id");t&&t.id!==n&&setTimeout(()=>{s(!0),f({event_type:13,component:14993}),_.Z.setItem("last_notified_message_id",t.id),_.Z.setItem("last_notified_message_timestamp",Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||s(!1)}),setTimeout(()=>{r(!0),setTimeout(()=>{r(!1),s(!1)},800)},5e3)},E.XZ)}),!e.last_message||!n)return null;let{sender:b}=e.last_message,w=b.first_name||b.username||"",x=e.last_message.pin?p.bt("отправляет вам пин", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):p.bt("отправляет вам сообщение", "sent you a message", "navbar.messageNotifications.text", undefined, true),L=(0,k.jsxs)(o.xv,{color:"light",inline:!0,children:[(0,k.jsxs)(o.xv,{color:"light",inline:!0,weight:"bold",children:[w," "]}),x]});return(0,k.jsx)(o.mh,{zIndex:new o.H3([new o.Ry(y.fe)]),children:(0,k.jsx)(o.iP,{onTap:()=>{d(),u(e.id),s(!1),f({event_type:101,component:14993})},children:(0,k.jsxs)(o.xu,{id:"message-notif-toast",children:[t?(0,k.jsx)(P.Z,{unsafeCSS:I({isRTL:g,isNotifFadingOut:l,anchor:t,isVerticalNavEnabled:v})}):null,(0,k.jsxs)(o.xu,{alignItems:"center",color:"dark",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,role:"alert",rounding:4,children:[(0,k.jsx)(o.xu,{marginEnd:3,children:(0,k.jsx)(C.qE,{name:w,size:"sm",src:b.image_large_url})}),L]})]})})})}function Z(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),Z(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),Z(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(f.S.INBOX),this.updateBrowserTabTitleCount(0)}),Z(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:i,openConversationsDropdown:s,onClick:o}=this.props;if(o?.(),t){e&&e.stopEventPropagation(),t();return}n?i():s(),this.clearBadges(),this.onComplete&&this.onComplete()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,d.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),i=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${i}`:i}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMesage:i,idealTooltipDirection:s,defaultIconColor:l,selectedIconColor:a,zIndex:r}=this.props;return(0,k.jsxs)(o.xu,{ref:this.setButtonRef,position:"relative",children:[(0,k.jsx)(o.u,{accessibilityLabel:"",idealDirection:s,text:t.bt("Сообщения", "Messages", "navbar.conversationsButton.tooltip", undefined, true),zIndex:r||new o.H3([new o.Ry(y.fe)]),children:(0,k.jsx)(o.xu,{"data-test-id":"notifications-button",children:(0,k.jsx)(b.Z,{badgeCount:e,defaultColor:l,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n,selectedColor:a,verticalNavCustomSvgBackgroundUrlDefaultState:w.vX.messages.default,verticalNavCustomSvgBackgroundUrlSelectedState:w.vX.messages.selected})})}),i&&(0,k.jsx)(L,{anchor:this.anchor,conversation:i})]})}}function j(e){let t=(0,c.ZP)(),n=(0,r.Z)(),o=(0,s.TH)(),{isAuth:f,isLimitedLogin:b}=(0,p.Z)();(0,h.Z)(()=>{f&&!b&&l.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:y,newsHubCount:w,showConversationsDropdown:x},dropdownClose:A,dropdownOpen:C}=(0,m.Z)(),{checkExperiment:P}=(0,u.F)(),{setInboxButton:S}=(0,v.b)(),I=(0,g.Z)(),{enabled:L}=(0,a.Z)(),Z=I.find(e=>e.unread>0),j=(0,s.k6)(),O=(0,d.C$)(j.location),R=_.Z.getItem("last_notified_message_timestamp"),M=R&&Date.now()-Number(R)<E.VC,z=O&&!x&&!M&&Z&&!L&&P("sg_dweb_app_start_msg_notif").anyEnabled,N=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{N.current||e.onPanelChange?.(x),N.current=!1},[x]),(0,k.jsx)(T,{...e,closeConversationsDropdown:A,conversationsUnseenCount:y,conversationWithUnreadMesage:z?Z:null,i18n:t,location:o,newsHubCount:w,openConversationsDropdown:C,requireAuth:n,setInboxButton:S,showPanel:x})}var O=n(647352);function R({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:i,onClick:s,onPanelChange:o}){return(0,k.jsx)(O.Z,{icon:"speech-ellipsis",children:({onClearBadges:l})=>(0,k.jsx)(j,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:l,onClick:s,onPanelChange:o,selectedIconColor:n,zIndex:i})})}},647352:(e,t,n)=>{n.d(t,{Z:()=>w});var i,s=n(667294),o=n(883119),l=n(3808),a=n(683882),r=n(167912),c=n(216167),d=n(256683),u=n(757640),_=n(325362),h=n(190149),p=n(432614),m=n(785893);let g=(0,d.Z)(_.Z);class f extends s.Component{constructor(...e){var t,n,i;super(...e),t="handleClearBadges",n=e=>{e===p.S.NEWS_HUB?(c.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let i=g(e.data);n(i.conversationsUnseenCount),t(i.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function v({conversationBadgeCall:e,children:t}){let n=(0,u.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:i,updateUnreadCount:s}=(0,h.Z)();return(0,m.jsx)(f,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:i,updateUnreadCount:s,children:t})}let b=()=>{let e=void 0!==i?i:i=n(395980),[t]=(0,r.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})})};function y({children:e}){return(0,m.jsx)(v,{conversationBadgeCall:b(),children:e})}function w({icon:e,children:t}){let[n,i]=(0,s.useState)(!1),{enabled:r}=(0,l.Z)();return((0,s.useEffect)(()=>{i(!0)},[]),n)?(0,m.jsx)(y,{children:t}):(0,m.jsx)(o.xu,{paddingX:1,children:(0,m.jsx)(o.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:r?(0,m.jsx)(a.dK,{svgBackgroundImageUrl:"speech-ellipsis"===e?a.vX.messages.default:a.vX.notifications.default}):(0,m.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},140186:(e,t,n)=>{n.d(t,{VC:()=>v,XZ:()=>f,ZP:()=>b});var i=n(616550),s=n(883119),o=n(216167),l=n(205841),a=n(454514),r=n(140017),c=n(741983),d=n(340523),u=n(731714),_=n(13848),h=n(554786),p=n(494125),m=n(149722),g=n(785893);let f=2e3,v=864e5;function b(){let e=(0,r.ZP)(),{isAuth:t,isLimitedLogin:n}=(0,m.Z)(),{checkExperiment:b}=(0,d.F)(),{showToast:y}=(0,_.F9)(),w=(0,i.k6)(),x=(0,c.C$)(w.location),A=(0,h.HG)();return(0,p.Z)(()=>{let i=async()=>{let t=o.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),i=u.Z.getItem("last_notified_message_timestamp"),r=i&&Date.now()-Number(i)<v,c=n&&x&&!r&&b("sg_mweb_app_start_msg_notif").anyEnabled&&n.last_message,d=u.Z.getItem("last_notified_message_id");if(c&&c.id!==d){u.Z.setItem("last_notified_message_id",c.id),u.Z.setItem("last_notified_message_timestamp",Date.now());let{sender:t}=c,i=t.first_name||t.username||"",o=c.pin?e.bt("отправляет вам пин", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):e.bt("отправляет вам сообщение", "sent you a message", "navbar.messageNotifications.text", undefined, true),r=(0,g.jsxs)(s.xv,{inline:!0,children:[(0,g.jsxs)(s.xv,{inline:!0,weight:"bold",children:[i," "]}),o]});setTimeout(()=>{y(({hideToast:s})=>(0,g.jsx)(a.ZP,{duration:5e3,onHide:s,primaryAction:{accessibilityLabel:e.bt("Ответить на сообщение", "Reply to the message", "NotificationToast.replyButton.accessibilityLabel", undefined, true),label:e.bt("Ответить", "Reply", "NotificationToast.replyButton.buttonText", undefined, true),onClick:()=>{w.push(`/conversation/${n.id}`),s()}},text:r,thumbnail:{avatar:(0,g.jsx)(l.qE,{name:i,size:"sm",src:t.image_large_url})}}))},f)}};!t||n||A||i()}),null}},89190:(e,t,n)=>{n.d(t,{K:()=>s,e:()=>i});let i=100,s=28},249170:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){n=t}return n}},67661:(e,t,n)=>{n.d(t,{Z4:()=>c,ZP:()=>d,t_:()=>a});var i=n(224796),s=n(731714),o=n(791486),l=n(89190);let a=()=>{let e=s.Z.getItem(i.pm);return null!==e?JSON.stringify(e):""},r=()=>s.Z.getItem(i.pm)||[],c=(e,t)=>{let n=[...r()],a=n.length,c=a?n[0].path:"";if(a>=l.e&&n.pop(),!a||e!==c){let l=(0,o.Z)({path:e,pageType:t});s.Z.setItem(i.pm,[l].concat(n))}},d=r},454051:(e,t,n)=>{function i(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function s(e){return i("/admin/",e)}function o(e){return i("/admin/oauth/logout/",e)}function l(e){return i("/today/",e)}n.d(t,{HF:()=>s,Kn:()=>o,tG:()=>l})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/17885.ru_RU-f9e85ea49edf17f9.mjs.map